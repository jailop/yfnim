{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"yfnim - Yahoo Finance Data Retriever for Nim","text":"<p> A library and command-line tool for retrieving market data from     Yahoo Finance. Written in Nim. </p>"},{"location":"#features","title":"Features","text":"<ul> <li>Market data: Historical prices, real-time quotes, dividends,   splits</li> <li>Screening: Filter stocks with custom expressions</li> <li>Technical analysis: Built-in indicators like RSI, MACD, Bollinger   Bands, and others</li> <li>Fast &amp; efficient: Written in Nim, minimal dependencies</li> <li>Unix-friendly: Pipes, CSV/JSON export, stdin input, proper stderr   logging</li> <li>Command abbreviations: Use shortcuts like <code>yf h</code>, <code>yf q</code>, <code>yf   comp</code></li> <li>Dual interface: Use as a library or standalone CLI tool</li> <li>Auto-generated help: Built with cligen for consistent, colored   help text</li> </ul>"},{"location":"#installation","title":"Installation","text":"<p>If you only want to use the CLI tool, you can install it via Nimble:</p> <pre><code>nimble install yfnim\n</code></pre> <p>To build from source, clone the repository and run:</p> <pre><code>git clone https://codeberg.org/jailop/yfnim.git\ncd yfnim\nnimble build\nnimble install\n</code></pre>"},{"location":"#cli-tool-examples","title":"CLI Tool Examples","text":"<pre><code># Get current quotes\nyf quote AAPL MSFT GOOGL\n\n# Get historical data\nyf history --symbol=AAPL --lookback=30d\n\n# Compare stocks\nyf compare AAPL MSFT GOOGL\n\n# Screen stocks\nyf screen AAPL MSFT GOOGL --criteria=custom --where \"pe &lt; 20 and yield &gt; 2\"\n\n# Get dividend history\nyf dividends --symbol=AAPL --lookback=5y\n\n# Check stock splits\nyf splits --symbol=TSLA --lookback=10y\n\n# Calculate technical indicators\nyf indicators --symbol=AAPL --sma=20 --sma=50 --sma=200 --rsi=14 --macd\n\n# Export to CSV\nyf history --symbol=AAPL --lookback=90d --format=csv &gt; data.csv\n\n# Use piped input\ncat symbols.txt | yf quote --read-stdin\n\n# Command abbreviations\nyf q AAPL              # quote\nyf h --symbol=AAPL     # history\nyf comp AAPL MSFT      # compare\n</code></pre>"},{"location":"#library-example","title":"Library Example","text":"<pre><code>import std/times\nimport yfnim\n\n# Historical data\nlet endTime = getTime().toUnix()\nlet startTime = endTime - (7  86400)\nlet history = getHistory(\"AAPL\", Int1d, startTime, endTime)\n\necho \"Retrieved \", history.data.len, \" records for \", history.symbol\nfor bar in history.data:\n  echo \"Date: \", fromUnix(bar.date).format(\"yyyy-MM-dd\"), \n       \" Close: $\", bar.close\n\n# Current quote\nlet quote = getQuote(\"AAPL\")\necho \"Price: $\", quote.regularMarketPrice\necho \"Change: \", quote.regularMarketChangePercent, \"%\"\n</code></pre>"},{"location":"#documentation","title":"Documentation","text":""},{"location":"#library","title":"Library","text":"<ul> <li>Getting Started - Installation and first program</li> <li>Historical Data Guide - Working with OHLCV data</li> <li>Quote Data Guide - Real-time quotes and market data</li> <li>API Documentation - Complete API reference</li> </ul>"},{"location":"#cli-tool","title":"CLI Tool","text":"<ul> <li>Installation Guide - Installation instructions</li> <li>Quick Start - Get started in 5 minutes</li> <li>Commands Reference - Complete command documentation</li> <li>Screening Guide - Advanced stock screening</li> </ul>"},{"location":"#license","title":"License","text":"<p>MIT License - see License file.</p>"},{"location":"#disclaimer","title":"Disclaimer","text":"<p>This project is not affiliated with Yahoo Finance. Use of Yahoo Finance data is subject to their Terms of Service. This tool is for educational and research purposes. Use responsibly.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>0.1.0</p> <ul> <li>First usable version</li> </ul> <p>0.2.0</p> <ul> <li>new commands available: dividends, splits, actions, indicators</li> </ul> <p>0.3.0</p> <ul> <li>command line argument managed by cligen (breaking change)</li> <li>command abbreviations available</li> <li>symbols piping </li> <li>quiet output by default. getting more details requires --verbose flag</li> <li>stderr console for logging and other informative messages</li> </ul>"},{"location":"getting-started/","title":"Getting Started with yfnim","text":"<p>yfnim provides both a library and CLI tool for accessing Yahoo Finance data. Choose your path:</p>"},{"location":"getting-started/#for-command-line-users-cli-tool","title":"For Command-Line Users (CLI Tool)","text":"<p>If you want to access market data from the terminal:</p> <p>CLI Quick Start Guide</p> <ul> <li>Install the <code>yf</code> command-line tool</li> <li>Learn basic commands with abbreviations</li> <li>Export data to CSV/JSON</li> <li>Screen stocks and analyze trends</li> <li>Use piped input for batch processing</li> </ul> <pre><code># Get current quotes\nyf quote AAPL MSFT GOOGL\n\n# Get historical data\nyf history --symbol=AAPL --lookback=30d\n\n# Screen stocks\nyf screen AAPL MSFT --criteria=value\n\n# Use command abbreviations\nyf q AAPL              # quote\nyf h --symbol=AAPL     # history\n\n# Pipe symbols from file\ncat symbols.txt | yf quote --read-stdin\n</code></pre>"},{"location":"getting-started/#for-developers-library","title":"For Developers (Library)","text":"<p>If you want to integrate Yahoo Finance data into your Nim applications:</p> <p>Library Getting Started Guide</p> <ul> <li>Learn how to install and use the yfnim library</li> <li>Fetch historical OHLCV data</li> <li>Get real-time quotes</li> <li>Type-safe API with minimal dependencies</li> </ul> <pre><code>import yfnim\nimport std/times\n\nlet endTime = getTime().toUnix()\nlet startTime = endTime - (7 * 86400)\nlet history = getHistory(\"AAPL\", Int1d, startTime, endTime)\n\necho \"Retrieved \", history.data.len, \" records\"\n</code></pre>"},{"location":"getting-started/#installation","title":"Installation","text":"<pre><code>git clone https://codeberg.org/jailop/yfnim.git\ncd yfnim\nnimble build -d:ssl\nnimble install\n</code></pre>"},{"location":"getting-started/#whats-next","title":"What's Next?","text":"<ul> <li>Library Users: Start with Library Getting Started</li> <li>CLI Users: Start with CLI Installation then CLI Quick Start</li> <li>Everyone: Check out the API Reference</li> </ul>"},{"location":"getting-started/#quick-links","title":"Quick Links","text":"<ul> <li>Installation</li> <li>Library Documentation</li> <li>CLI Documentation</li> <li>API Reference</li> <li>Changelog</li> </ul>"},{"location":"installation/","title":"Installation","text":"<p>This page covers installation for both the library and the CLI tool.</p> <p>Requirement:</p> <ul> <li>Nim (version 2.2.6 or higher)</li> </ul> <p>To install the CLI tool:</p> <pre><code>nimble install yfnim\n</code></pre> <p>To add the library to your project:</p> <pre><code>nimble install yfnim\nnimble add yfnim\n</code></pre> <p>To build from source code:</p> <pre><code>git clone https://codeberg.org/jailop/yfnim.git\ncd yfnim\nnimble build\nnimble install\n</code></pre>"},{"location":"license/","title":"License","text":""},{"location":"license/#mit-license","title":"MIT License","text":"<p>Copyright \u00a9 2026</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"license/#disclaimer","title":"Disclaimer","text":"<p>This project is not affiliated with Yahoo Finance. Use of Yahoo Finance data is subject to their Terms of Service. This tool is for educational and research purposes. Use responsibly.</p> <p>Always ensure compliance with Yahoo Finance's Terms of Service when using this tool.</p>"},{"location":"api/","title":"API Reference","text":"<p>The yfnim library provides a clean, type-safe API for accessing Yahoo Finance data.</p>"},{"location":"api/#generating-api-documentation","title":"Generating API Documentation","text":"<p>The full API documentation is generated from the source code using Nim's built-in documentation generator.</p>"},{"location":"api/#generate-locally","title":"Generate Locally","text":"<pre><code>nimble docs\n</code></pre> <p>This generates HTML documentation in the <code>docs/api/</code> directory.</p>"},{"location":"api/#browse-generated-docs","title":"Browse Generated Docs","text":"<p>After running <code>nimble docs</code>, open <code>docs/api/yfnim.html</code> in your browser.</p>"},{"location":"api/#core-modules","title":"Core Modules","text":""},{"location":"api/#yfnim","title":"yfnim","text":"<p>The main module that exports all public APIs.</p> <pre><code>import yfnim\n</code></pre>"},{"location":"api/#yfnimtypes","title":"yfnim/types","text":"<p>Core data types for historical data:</p> <ul> <li><code>Interval</code> - Time interval enum (Int1m, Int5m, Int15m, Int30m, Int1h, Int1d, Int1wk, Int1mo)</li> <li><code>HistoryRecord</code> - Single OHLCV bar</li> <li><code>History</code> - Time series of OHLCV data</li> </ul>"},{"location":"api/#yfnimquote_types","title":"yfnim/quote_types","text":"<p>Data types for quote/ticker data:</p> <ul> <li><code>Quote</code> - Real-time quote information</li> <li><code>QuoteError</code> - Quote-specific errors</li> </ul>"},{"location":"api/#yfnimretriever","title":"yfnim/retriever","text":"<p>Functions for retrieving historical data:</p> <ul> <li><code>getHistory()</code> - Fetch historical OHLCV data</li> <li><code>newHistory()</code> - Create empty history object</li> </ul>"},{"location":"api/#yfnimquote_retriever","title":"yfnim/quote_retriever","text":"<p>Functions for retrieving quote data:</p> <ul> <li><code>getQuote()</code> - Fetch single quote</li> <li><code>getQuotes()</code> - Fetch multiple quotes concurrently</li> </ul>"},{"location":"api/#yfnimurlbuilder","title":"yfnim/urlbuilder","text":"<p>Internal module for building Yahoo Finance URLs.</p>"},{"location":"api/#quick-api-overview","title":"Quick API Overview","text":""},{"location":"api/#historical-data","title":"Historical Data","text":"<pre><code>proc getHistory*(\n  symbol: string,\n  interval: Interval,\n  startTime: int64,\n  endTime: int64\n): History\n</code></pre> <p>Fetch historical OHLCV data for a symbol.</p> <p>Parameters:</p> <ul> <li><code>symbol</code> - Stock symbol (e.g., \"AAPL\", \"MSFT\")</li> <li><code>interval</code> - Time interval (Int1d, Int1h, etc.)</li> <li><code>startTime</code> - Start time (Unix timestamp)</li> <li><code>endTime</code> - End time (Unix timestamp)</li> </ul> <p>Returns: <code>History</code> object with data</p> <p>Raises: <code>ValueError</code>, <code>HttpRequestError</code>, <code>YahooApiError</code></p>"},{"location":"api/#quote-data","title":"Quote Data","text":"<pre><code>proc getQuote*(symbol: string): Quote\n</code></pre> <p>Get current quote for a symbol.</p> <p>Parameters:</p> <ul> <li><code>symbol</code> - Stock symbol</li> </ul> <p>Returns: <code>Quote</code> object</p> <p>Raises: <code>QuoteError</code>, <code>HttpRequestError</code></p> <pre><code>proc getQuotes*(symbols: seq[string]): seq[Quote]\n</code></pre> <p>Get quotes for multiple symbols (concurrent requests).</p> <p>Parameters:</p> <ul> <li><code>symbols</code> - Sequence of stock symbols</li> </ul> <p>Returns: Sequence of <code>Quote</code> objects</p>"},{"location":"api/#type-reference","title":"Type Reference","text":""},{"location":"api/#interval-enum","title":"Interval Enum","text":"<pre><code>type Interval* = enum\n  Int1m   # 1 minute\n  Int5m   # 5 minutes\n  Int15m  # 15 minutes\n  Int30m  # 30 minutes\n  Int1h   # 1 hour\n  Int1d   # 1 day\n  Int1wk  # 1 week\n  Int1mo  # 1 month\n</code></pre>"},{"location":"api/#historyrecord","title":"HistoryRecord","text":"<pre><code>type HistoryRecord* = object\n  date*: int64      # Unix timestamp\n  open*: float64    # Opening price\n  high*: float64    # Highest price\n  low*: float64     # Lowest price\n  close*: float64   # Closing price\n  volume*: int64    # Trading volume\n</code></pre>"},{"location":"api/#history","title":"History","text":"<pre><code>type History* = object\n  symbol*: string\n  interval*: Interval\n  data*: seq[HistoryRecord]\n</code></pre>"},{"location":"api/#quote","title":"Quote","text":"<pre><code>type Quote* = object\n  symbol*: string\n  regularMarketPrice*: float64\n  regularMarketChange*: float64\n  regularMarketChangePercent*: float64\n  regularMarketVolume*: int64\n  # ... and many more fields\n</code></pre> <p>See generated documentation for complete field list.</p>"},{"location":"api/#error-types","title":"Error Types","text":""},{"location":"api/#valueerror","title":"ValueError","text":"<p>Invalid input parameters (invalid symbol, invalid date range, etc.)</p>"},{"location":"api/#httprequesterror","title":"HttpRequestError","text":"<p>Network or HTTP errors when contacting Yahoo Finance.</p>"},{"location":"api/#jsonparsingerror","title":"JsonParsingError","text":"<p>Invalid JSON response from Yahoo Finance.</p>"},{"location":"api/#yahooapierror","title":"YahooApiError","text":"<p>Yahoo Finance API returned an error (symbol not found, data unavailable, etc.)</p>"},{"location":"api/#quoteerror","title":"QuoteError","text":"<p>Quote-specific errors.</p>"},{"location":"api/#examples","title":"Examples","text":"<p>See the Library Getting Started guide for detailed examples.</p>"},{"location":"api/#nim-documentation","title":"Nim Documentation","text":"<p>For the complete, detailed API documentation with all fields and methods, generate the docs locally:</p> <pre><code>cd yfnim\nnimble docs\n</code></pre> <p>Then open <code>docs/api/yfnim.html</code> in your browser.</p>"},{"location":"api/#links","title":"Links","text":"<ul> <li>Library Getting Started</li> <li>Historical Data Guide</li> <li>Quote Data Guide</li> </ul>"},{"location":"cli/command-reference/","title":"Command Reference","text":"<p>This page contains the complete reference for all yf CLI commands.</p>"},{"location":"cli/command-reference/#global-options","title":"Global Options","text":"<p>These options can be used with any command:</p> <ul> <li><code>-f, --format=FORMAT</code> - Output format: table, csv, json, tsv, minimal (default: table)</li> <li><code>-v, --verbose</code> - Show progress and informational messages</li> <li><code>-n, --no-header</code> - Omit header row in output</li> <li><code>--no-color</code> - Disable colored output</li> <li><code>-p, --precision=N</code> - Decimal precision for prices (default: 2)</li> <li><code>-d, --date-format=FORMAT</code> - Date format: iso, us, unix, full (default: iso)</li> <li><code>-h, --help</code> - Show help for the command</li> </ul>"},{"location":"cli/command-reference/#commands","title":"Commands","text":""},{"location":"cli/command-reference/#history","title":"history","text":"<pre><code>Usage:\n  history [optional-params] \nOptions:\n  -h, --help                            print this cligen-erated help\n  --help-syntax                         advanced: prepend,plurals,..\n  -s=, --symbol=       string  \"\"       Stock ticker symbol\n  -i=, --interval=     string  \"1d\"     Data interval (1d, 1wk, 1mo)\n  --start=             string  \"\"       Start date\n  -e=, --end=          string  \"\"       End date\n  -l=, --lookback=     string  \"7d\"     Lookback period\n  -f=, --format=       string  \"table\"  Output format\n  -v, --verbose        bool    false    Show progress messages\n  -n, --no_header      bool    false    Omit headers\n  --no_color           bool    false    Disable colors\n  -p=, --precision=    int     2        Decimal places\n  -d=, --date_format=  string  \"iso\"    Date display format\n  -r, --read_stdin     bool    false    Read symbol from stdin\n</code></pre>"},{"location":"cli/command-reference/#quote","title":"quote","text":"<pre><code>Usage:\n  quote [optional-params] Stock ticker symbols\nOptions:\n  -h, --help                            print this cligen-erated help\n  --help-syntax                         advanced: prepend,plurals,..\n  -m=, --metrics=      string  \"\"       Metrics to display\n  -f=, --format=       string  \"table\"  Output format\n  -v, --verbose        bool    false    Show progress messages\n  -n, --no_header      bool    false    Omit headers\n  --no_color           bool    false    Disable colors\n  -p=, --precision=    int     2        Decimal places\n  -d=, --date_format=  string  \"iso\"    Date display format\n  -r, --read_stdin     bool    false    Read symbols from stdin (cat list.txt | yf quote --read_stdin)\n</code></pre>"},{"location":"cli/command-reference/#compare","title":"compare","text":"<pre><code>Usage:\n  compare [optional-params] Stock symbols to compare\nOptions:\n  -h, --help                            print this cligen-erated help\n  --help-syntax                         advanced: prepend,plurals,..\n  -m=, --metrics=      string  \"\"       Metrics to compare\n  -f=, --format=       string  \"table\"  Output format\n  -v, --verbose        bool    false    Show progress messages\n  -n, --no_header      bool    false    Omit headers\n  --no_color           bool    false    Disable colors\n  -p=, --precision=    int     2        Decimal places\n  -d=, --date_format=  string  \"iso\"    Date display format\n  -r, --read_stdin     bool    false    Read symbols from stdin\n</code></pre>"},{"location":"cli/command-reference/#download","title":"download","text":"<pre><code>Usage:\n  download [optional-params] Stock symbols to download\nOptions:\n  -h, --help                            print this cligen-erated help\n  --help-syntax                         advanced: prepend,plurals,..\n  -i=, --interval=     string  \"1d\"     Data interval\n  -s=, --start=        string  \"\"       Start date\n  -e=, --end=          string  \"\"       End date\n  -l=, --lookback=     string  \"7d\"     Lookback period\n  -f=, --format=       string  \"table\"  Output format\n  -v, --verbose        bool    false    Show progress messages\n  -n, --no_header      bool    false    Omit headers\n  --no_color           bool    false    Disable colors\n  -p=, --precision=    int     2        Decimal places\n  -d=, --date_format=  string  \"iso\"    Date display format\n  -r, --read_stdin     bool    false    Read symbols from stdin\n</code></pre>"},{"location":"cli/command-reference/#dividends","title":"dividends","text":"<pre><code>Usage:\n  dividends [REQUIRED,optional-params] \nOptions:\n  -h, --help                             print this cligen-erated help\n  --help-syntax                          advanced: prepend,plurals,..\n  -s=, --symbol=       string  REQUIRED  Stock ticker symbol\n  --start=             string  \"\"        Start date\n  -e=, --end=          string  \"\"        End date\n  -l=, --lookback=     string  \"max\"     Lookback period\n  -f=, --format=       string  \"table\"   Output format\n  -v, --verbose        bool    false     Show progress messages\n  -n, --no_header      bool    false     Omit headers\n  --no_color           bool    false     Disable colors\n  -p=, --precision=    int     2         Decimal places\n  -d=, --date_format=  string  \"iso\"     Date display format\n</code></pre>"},{"location":"cli/command-reference/#splits","title":"splits","text":"<pre><code>Usage:\n  splits [REQUIRED,optional-params] \nOptions:\n  -h, --help                             print this cligen-erated help\n  --help-syntax                          advanced: prepend,plurals,..\n  -s=, --symbol=       string  REQUIRED  Stock ticker symbol\n  --start=             string  \"\"        Start date\n  -e=, --end=          string  \"\"        End date\n  -l=, --lookback=     string  \"max\"     Lookback period\n  -f=, --format=       string  \"table\"   Output format\n  -v, --verbose        bool    false     Show progress messages\n  -n, --no_header      bool    false     Omit headers\n  --no_color           bool    false     Disable colors\n  -p=, --precision=    int     2         Decimal places\n  -d=, --date_format=  string  \"iso\"     Date display format\n</code></pre>"},{"location":"cli/command-reference/#actions","title":"actions","text":"<pre><code>Usage:\n  actions [REQUIRED,optional-params] \nOptions:\n  -h, --help                             print this cligen-erated help\n  --help-syntax                          advanced: prepend,plurals,..\n  -s=, --symbol=       string  REQUIRED  Stock ticker symbol\n  --start=             string  \"\"        Start date\n  -e=, --end=          string  \"\"        End date\n  -l=, --lookback=     string  \"max\"     Lookback period\n  -f=, --format=       string  \"table\"   Output format\n  -v, --verbose        bool    false     Show progress messages\n  -n, --no_header      bool    false     Omit headers\n  --no_color           bool    false     Disable colors\n  -p=, --precision=    int     2         Decimal places\n  -d=, --date_format=  string  \"iso\"     Date display format\n</code></pre>"},{"location":"cli/command-reference/#indicators","title":"indicators","text":"<pre><code>Usage:\n  indicators [REQUIRED,optional-params] \nOptions:\n  -h, --help                             print this cligen-erated help\n  --help-syntax                          advanced: prepend,plurals,..\n  -s=, --symbol=       string  REQUIRED  Stock ticker symbol\n  -i=, --interval=     string  \"1d\"      Data interval\n  --start=             string  \"\"        Start date\n  -e=, --end=          string  \"\"        End date\n  -l=, --lookback=     string  \"1y\"      Lookback period\n  --sma=               ints    {}        SMA periods\n  --ema=               ints    {}        EMA periods\n  -w=, --wma=          ints    {}        WMA periods\n  -r=, --rsi=          int     0         RSI period\n  -m, --macd           bool    false     Calculate MACD\n  --stochastic         bool    false     Calculate Stochastic\n  -b=, --bb=           int     0         Bollinger Bands period\n  -a=, --atr=          int     0         ATR period\n  --adx=               int     0         ADX period\n  -o, --obv            bool    false     Calculate OBV\n  -v, --vwap           bool    false     Calculate VWAP\n  --all                bool    false     All indicators\n  --verbose            bool    false     Show progress messages\n  -n, --no_color       bool    false     Disable colors\n  -p=, --precision=    int     2         Decimal places\n  -d=, --date_format=  string  \"iso\"     Date display format\n</code></pre>"},{"location":"cli/command-reference/#screen","title":"screen","text":"<pre><code>Usage:\n  screen [optional-params] Stock symbols to screen\nOptions:\n  -h, --help                            print this cligen-erated help\n  --help-syntax                         advanced: prepend,plurals,..\n  -c=, --criteria=     string  \"value\"  Screening criteria\n  -w=, --where=        string  \"\"       Custom filter expression\n  -f=, --format=       string  \"table\"  Output format\n  -v, --verbose        bool    false    Show progress messages\n  -n, --no_header      bool    false    Omit headers\n  --no_color           bool    false    Disable colors\n  -p=, --precision=    int     2        Decimal places\n  -d=, --date_format=  string  \"iso\"    Date display format\n  -r, --read_stdin     bool    false    Read symbols from stdin\n</code></pre>"},{"location":"cli/commands/","title":"Commands Reference","text":"<p>Complete reference for all <code>yf</code> CLI commands and options.</p>"},{"location":"cli/commands/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Global Options</li> <li>history Command</li> <li>quote Command</li> <li>compare Command</li> <li>screen Command</li> <li>dividends Command</li> <li>splits Command</li> <li>actions Command</li> <li>download Command</li> <li>indicators Command</li> <li>Common Examples</li> </ul>"},{"location":"cli/commands/#global-options","title":"Global Options","text":"<p>These options work with all commands:</p> Option Short Description Default <code>--format=&lt;type&gt;</code> <code>-f</code> Output format: table, csv, json, tsv, minimal table <code>--quiet</code> <code>-q</code> Suppress extra output false <code>--no-header</code> Don't print column headers false <code>--no-color</code> Disable colored output false <code>--precision &lt;n&gt;</code> <code>-p</code> Decimal places for numbers (0-10) 2 <code>--date-format &lt;type&gt;</code> Date format: iso, us, unix, full iso <code>--refresh</code> Bypass cache and fetch fresh data false <code>--debug</code> Show debug information false <code>--help</code> <code>-h</code> Show help for command <code>--version</code> <code>-v</code> Show version information"},{"location":"cli/commands/#format-options","title":"Format Options","text":"<p>table (default) - Human-readable table format - Aligned columns - Colored output (if supported)</p> <p>csv - Comma-separated values - Header row included (use <code>--no-header</code> to exclude) - Good for spreadsheets</p> <p>json - JSON object or array - Good for programmatic processing - Can be piped to <code>jq</code></p> <p>tsv - Tab-separated values - Good for piping to Unix tools</p> <p>minimal - Just the values, no formatting - Space-separated - Good for parsing in scripts</p>"},{"location":"cli/commands/#date-format-options","title":"Date Format Options","text":"<p>iso (default): <code>2024-01-15</code> us: <code>01/15/2024</code> unix: <code>1705276800</code> (Unix timestamp) full: <code>2024-01-15 14:30:00</code></p>"},{"location":"cli/commands/#history-command","title":"history Command","text":"<p>Retrieve historical OHLCV (Open, High, Low, Close, Volume) data.</p>"},{"location":"cli/commands/#synopsis","title":"Synopsis","text":"<pre><code>yf history &lt;SYMBOL&gt; [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#arguments","title":"Arguments","text":"<p><code>SYMBOL</code> - Stock ticker symbol (e.g., AAPL, MSFT)</p>"},{"location":"cli/commands/#options","title":"Options","text":"Option Short Description Default Example <code>--interval &lt;type&gt;</code> <code>-i</code> Time interval 1d --interval=1h <code>--lookback &lt;period&gt;</code> <code>-l</code> Lookback period 7d --lookback=30d <code>--start &lt;date&gt;</code> <code>-s</code> Start date --start 2024-01-01 <code>--end &lt;date&gt;</code> <code>-e</code> End date today --end 2024-12-31"},{"location":"cli/commands/#intervals","title":"Intervals","text":"Interval Description Max History Use Case <code>1m</code> 1 minute ~7 days Day trading <code>5m</code> 5 minutes ~60 days Intraday analysis <code>15m</code> 15 minutes ~60 days Short-term patterns <code>30m</code> 30 minutes ~60 days Intraday trends <code>1h</code> 1 hour ~2 years Multi-day analysis <code>1d</code> 1 day (default) Many years General analysis <code>1wk</code> 1 week Many years Long-term trends <code>1mo</code> 1 month Many years Historical research"},{"location":"cli/commands/#lookback-period-format","title":"Lookback Period Format","text":"<p>Format: <code>&lt;number&gt;&lt;unit&gt;</code> where unit is: - <code>d</code> - days - <code>w</code> - weeks - <code>m</code> - months - <code>y</code> - years</p> <p>Examples: <code>7d</code>, <code>30d</code>, <code>6m</code>, <code>1y</code></p>"},{"location":"cli/commands/#date-format","title":"Date Format","text":"<p>Dates can be specified as: - ISO format: <code>YYYY-MM-DD</code> (e.g., <code>2024-01-15</code>) - US format: <code>MM/DD/YYYY</code> (e.g., <code>01/15/2024</code>)</p>"},{"location":"cli/commands/#examples","title":"Examples","text":"<pre><code># Last 7 days (default)\nyf history AAPL\n\n# Last 30 days with daily interval\nyf history --symbol=AAPL --lookback=30d\n\n# Last 3 days with hourly data\nyf history --symbol=AAPL --lookback=3d --interval=1h\n\n# Specific date range\nyf history --symbol=AAPL --start 2024-01-01 --end 2024-01-31\n\n# Last year of weekly data\nyf history --symbol=AAPL --lookback=1y --interval=1wk\n\n# Export to CSV\nyf history --symbol=AAPL --lookback=30d --format=csv &gt; data.csv\n\n# JSON format with no header\nyf history --symbol=AAPL --lookback=7d --format=json --no-header\n</code></pre>"},{"location":"cli/commands/#output-columns","title":"Output Columns","text":"<ul> <li>Date - Trading date/time</li> <li>Open - Opening price</li> <li>High - Highest price</li> <li>Low - Lowest price</li> <li>Close - Closing price</li> <li>Volume - Trading volume</li> </ul>"},{"location":"cli/commands/#notes","title":"Notes","text":"<ul> <li>Intraday intervals (1m, 5m, etc.) have limited historical data</li> <li>1-minute data typically available for last ~7 days only</li> <li>Weekends and holidays excluded for stock data</li> <li>Dates are in exchange local time</li> </ul>"},{"location":"cli/commands/#quote-command","title":"quote Command","text":"<p>Get current market data for one or more symbols.</p>"},{"location":"cli/commands/#synopsis_1","title":"Synopsis","text":"<pre><code>yf quote &lt;SYMBOL&gt; [SYMBOL...] [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#arguments_1","title":"Arguments","text":"<p><code>SYMBOL</code> - One or more ticker symbols</p>"},{"location":"cli/commands/#options_1","title":"Options","text":"<p>All global options apply. No command-specific options.</p>"},{"location":"cli/commands/#examples_1","title":"Examples","text":"<pre><code># Single quote\nyf quote AAPL\n\n# Multiple quotes\nyf quote AAPL MSFT GOOGL\n\n# CSV format for spreadsheet\nyf quote AAPL MSFT --format=csv &gt; quotes.csv\n\n# JSON for processing\nyf quote AAPL --format=json | jq '.regularMarketPrice'\n\n# International stocks\nyf quote AAPL SHOP.TO BP.L\n\n# Cryptocurrencies\nyf quote BTC-USD ETH-USD\n\n# Minimal format (just values)\nyf quote AAPL --format=minimal\n</code></pre>"},{"location":"cli/commands/#output-fields","title":"Output Fields","text":"<p>Identification: - Symbol - Name</p> <p>Price Data: - Price - Current/last price - Change - Absolute price change - Change% - Percentage change - Open - Opening price - High - Day's high - Low - Day's low - Previous Close</p> <p>Volume: - Volume - Today's volume - Avg Volume - Average volume</p> <p>Market Data: - Market Cap - Market capitalization - P/E Ratio - Price-to-earnings ratio - Dividend Yield - Annual dividend yield - 52W High - 52-week high - 52W Low - 52-week low</p> <p>Note: Available fields vary by security type and format.</p>"},{"location":"cli/commands/#symbol-formats","title":"Symbol Formats","text":"<p>US Stocks: <code>AAPL</code>, <code>MSFT</code>, <code>GOOGL</code> Canadian: <code>SHOP.TO</code> (Toronto) UK: <code>BP.L</code> (London) Japanese: <code>6758.T</code> (Tokyo) Crypto: <code>BTC-USD</code>, <code>ETH-USD</code></p>"},{"location":"cli/commands/#notes_1","title":"Notes","text":"<ul> <li>Data may be delayed 15-20 minutes</li> <li>Quote data is cached for 5 minutes by default</li> <li>Use <code>--refresh</code> to bypass cache</li> <li>Not all fields available for all securities</li> </ul>"},{"location":"cli/commands/#compare-command","title":"compare Command","text":"<p>Compare key metrics across multiple stocks side-by-side.</p>"},{"location":"cli/commands/#synopsis_2","title":"Synopsis","text":"<pre><code>yf compare &lt;SYMBOL&gt; &lt;SYMBOL&gt; [SYMBOL...] [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#arguments_2","title":"Arguments","text":"<p>At least 2 ticker symbols required.</p>"},{"location":"cli/commands/#options_2","title":"Options","text":"<p>All global options apply. No command-specific options.</p>"},{"location":"cli/commands/#examples_2","title":"Examples","text":"<pre><code># Compare tech stocks\nyf compare AAPL MSFT GOOGL\n\n# Compare with different format\nyf compare AAPL MSFT GOOGL --format=csv\n\n# Compare many stocks\nyf compare AAPL MSFT GOOGL AMZN TSLA NVDA META\n\n# Export comparison\nyf compare AAPL MSFT --format=json &gt; comparison.json\n</code></pre>"},{"location":"cli/commands/#output-columns_1","title":"Output Columns","text":"<ul> <li>Symbol</li> <li>Price</li> <li>Change%</li> <li>Volume</li> <li>Market Cap</li> <li>P/E Ratio</li> <li>52W Low</li> <li>52W High</li> </ul>"},{"location":"cli/commands/#notes_2","title":"Notes","text":"<ul> <li>Makes comparison easier than viewing quotes separately</li> <li>Shows only key metrics (use <code>quote</code> for full details)</li> <li>Good for quick competitive analysis</li> </ul>"},{"location":"cli/commands/#screen-command","title":"screen Command","text":"<p>Filter stocks based on criteria or custom expressions.</p>"},{"location":"cli/commands/#synopsis_3","title":"Synopsis","text":"<pre><code>yf screen &lt;SYMBOL&gt; [SYMBOL...] --criteria=&lt;type&gt; [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#arguments_3","title":"Arguments","text":"<p><code>SYMBOL</code> - One or more ticker symbols to screen</p>"},{"location":"cli/commands/#options_3","title":"Options","text":"Option Short Description Required <code>--criteria=&lt;type&gt;</code> <code>-c</code> Screening criteria type Yes <code>--where &lt;expr&gt;</code> <code>-w</code> Custom filter expression With custom criteria"},{"location":"cli/commands/#predefined-criteria","title":"Predefined Criteria","text":"<p>value - Low P/E ratio (&lt; 20) - High dividend yield (&gt; 2%) - Focuses on undervalued stocks</p> <p>growth - Positive price change today - Focuses on momentum</p> <p>dividend - High dividend yield (&gt; 2%) - Focuses on income stocks</p> <p>momentum - Strong positive change (&gt; 2%) - High relative volume - Focuses on strong movers</p> <p>custom - Uses <code>--where</code> expression - Define your own criteria</p>"},{"location":"cli/commands/#custom-expressions","title":"Custom Expressions","text":"<p>When using <code>--criteria=custom</code>, provide a <code>--where</code> expression.</p>"},{"location":"cli/commands/#syntax","title":"Syntax","text":"<pre><code>&lt;field&gt; &lt;operator&gt; &lt;value&gt;\n</code></pre> <p>Operators: - <code>&lt;</code> - Less than - <code>&gt;</code> - Greater than - <code>&lt;=</code> - Less than or equal - <code>&gt;=</code> - Greater than or equal - <code>=</code> - Equal to - <code>!=</code> - Not equal to</p> <p>Boolean Operators: - <code>and</code> - Both conditions must be true - <code>or</code> - Either condition must be true</p> <p>Parentheses: <code>(</code> <code>)</code> for grouping (in development)</p>"},{"location":"cli/commands/#available-fields","title":"Available Fields","text":"<p>Price Fields: - <code>price</code> - Current price - <code>change</code> - Absolute change - <code>changepercent</code> - Percentage change - <code>open</code> - Opening price - <code>high</code> - Day high - <code>low</code> - Day low - <code>prevclose</code> - Previous close</p> <p>52-Week Fields: - <code>52whigh</code> - 52-week high - <code>52wlow</code> - 52-week low - <code>52wchangepercent</code> - 52-week change %</p> <p>Volume Fields: - <code>volume</code> - Current volume - <code>avgvolume</code> - Average volume</p> <p>Valuation Fields: - <code>pe</code> - P/E ratio - <code>yield</code> - Dividend yield % - <code>marketcap</code> - Market capitalization</p>"},{"location":"cli/commands/#examples_3","title":"Examples","text":"<pre><code># Predefined: Value stocks\nyf screen AAPL MSFT JPM KO PG --criteria=value\n\n# Predefined: Growth stocks\nyf screen AAPL MSFT GOOGL NVDA --criteria=growth\n\n# Predefined: Dividend stocks\nyf screen T VZ XOM CVX --criteria=dividend\n\n# Custom: Price filter\nyf screen AAPL MSFT GOOGL --criteria=custom --where \"price &gt; 200\"\n\n# Custom: Multiple conditions (AND)\nyf screen AAPL MSFT GOOGL JPM --criteria=custom \\\n  --where \"pe &lt; 30 and yield &gt; 1\"\n\n# Custom: Multiple conditions (OR)\nyf screen AAPL MSFT GOOGL --criteria=custom \\\n  --where \"changepercent &gt; 2 or changepercent &lt; -2\"\n\n# Custom: Complex expression\nyf screen AAPL MSFT GOOGL AMZN TSLA --criteria=custom \\\n  --where \"price &gt; 100 and volume &gt; 10000000 and changepercent &gt; 0\"\n\n# Custom: Value investing filter\nyf screen AAPL MSFT JPM BAC WFC --criteria=custom \\\n  --where \"pe &lt; 20 and yield &gt; 2 and price &gt; 50\"\n\n# Custom: Near 52-week high\nyf screen AAPL MSFT GOOGL NVDA --criteria=custom \\\n  --where \"price &gt;= 52whigh * 0.95\"\n\n# Export results\nyf screen AAPL MSFT GOOGL --criteria=value --format=csv &gt; value_stocks.csv\n\n# Get just the symbols that pass\nyf screen AAPL MSFT GOOGL AMZN TSLA --criteria=custom \\\n  --where \"changepercent &gt; 1\" --format=minimal\n</code></pre>"},{"location":"cli/commands/#expression-examples","title":"Expression Examples","text":"<pre><code># Price-based\n\"price &gt; 100\"\n\"price &lt; 50\"\n\"price &gt; 100 and price &lt; 500\"\n\n# Change-based\n\"changepercent &gt; 2\"\n\"changepercent &lt; -1\"\n\"change &gt; 5\"\n\n# Volume-based\n\"volume &gt; 50000000\"\n\"volume &gt; avgvolume * 2\"\n\n# Valuation-based\n\"pe &lt; 20\"\n\"yield &gt; 3\"\n\"pe &lt; 15 and yield &gt; 2\"\n\n# Combined filters\n\"price &gt; 200 and changepercent &gt; 0 and volume &gt; 10000000\"\n\"pe &lt; 25 and yield &gt; 1 and price &gt; 50\"\n\"changepercent &gt; 1 or volume &gt; avgvolume * 2\"\n</code></pre>"},{"location":"cli/commands/#notes_3","title":"Notes","text":"<ul> <li>Only symbols that match criteria are returned</li> <li>If no stocks match, empty result is returned</li> <li>Custom expressions are case-insensitive</li> <li>Field names can use aliases (e.g., <code>changepct</code> for <code>changepercent</code>)</li> </ul>"},{"location":"cli/commands/#dividends-command","title":"dividends Command","text":"<p>Retrieve historical dividend payments for a stock.</p>"},{"location":"cli/commands/#synopsis_4","title":"Synopsis","text":"<pre><code>yf dividends &lt;SYMBOL&gt; [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#arguments_4","title":"Arguments","text":"<p><code>SYMBOL</code> - Stock ticker symbol (e.g., AAPL, MSFT, JNJ)</p>"},{"location":"cli/commands/#options_4","title":"Options","text":"Option Short Description Default Example <code>--start &lt;date&gt;</code> <code>-s</code> Start date --start 2020-01-01 <code>--end &lt;date&gt;</code> <code>-e</code> End date today --end 2023-12-31 <code>--lookback &lt;period&gt;</code> <code>-l</code> Lookback period max --lookback=5y"},{"location":"cli/commands/#lookback-period-format_1","title":"Lookback Period Format","text":"<p>Same as history command: <code>&lt;number&gt;&lt;unit&gt;</code> where unit is: - <code>d</code> - days - <code>w</code> - weeks - <code>m</code> - months - <code>y</code> - years - <code>max</code> - all available history</p> <p>Examples: <code>1y</code>, <code>5y</code>, <code>10y</code>, <code>max</code></p>"},{"location":"cli/commands/#examples_4","title":"Examples","text":"<pre><code># Get all dividend history\nyf dividends AAPL\n\n# Get dividends for last 5 years\nyf dividends --symbol=AAPL --lookback=5y\n\n# Get dividends for specific date range\nyf dividends --symbol=JNJ --start 2020-01-01 --end 2023-12-31\n\n# Export to CSV\nyf dividends --symbol=MSFT --format=csv &gt; msft_dividends.csv\n\n# JSON format for processing\nyf dividends --symbol=KO --format=json\n\n# Multiple stocks (use a loop)\nfor symbol in AAPL MSFT JNJ; do\n  echo \"=== $symbol ===\" \n  yf dividends $symbol --lookback=1y\ndone\n</code></pre>"},{"location":"cli/commands/#output-columns_2","title":"Output Columns","text":"<ul> <li>Date - Ex-dividend date</li> <li>Dividend - Dividend amount per share</li> </ul>"},{"location":"cli/commands/#notes_4","title":"Notes","text":"<ul> <li>Only shows stocks that pay dividends</li> <li>Ex-dividend date is when stock trades without dividend</li> <li>Historical dividend amounts may be adjusted for splits</li> <li>Not all stocks pay dividends (growth stocks typically don't)</li> </ul>"},{"location":"cli/commands/#splits-command","title":"splits Command","text":"<p>Retrieve historical stock split events.</p>"},{"location":"cli/commands/#synopsis_5","title":"Synopsis","text":"<pre><code>yf splits &lt;SYMBOL&gt; [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#arguments_5","title":"Arguments","text":"<p><code>SYMBOL</code> - Stock ticker symbol (e.g., AAPL, TSLA, NVDA)</p>"},{"location":"cli/commands/#options_5","title":"Options","text":"Option Short Description Default Example <code>--start &lt;date&gt;</code> <code>-s</code> Start date --start 2020-01-01 <code>--end &lt;date&gt;</code> <code>-e</code> End date today --end 2023-12-31 <code>--lookback &lt;period&gt;</code> <code>-l</code> Lookback period max --lookback=10y"},{"location":"cli/commands/#examples_5","title":"Examples","text":"<pre><code># Get all split history\nyf splits AAPL\n\n# Get splits for last 10 years\nyf splits --symbol=TSLA --lookback=10y\n\n# Get splits for specific date range\nyf splits --symbol=NVDA --start 2020-01-01 --end 2024-12-31\n\n# Export to JSON\nyf splits --symbol=AAPL --format=json &gt; aapl_splits.json\n\n# Export to CSV\nyf splits --symbol=GOOGL --format=csv &gt; googl_splits.csv\n</code></pre>"},{"location":"cli/commands/#output-columns_3","title":"Output Columns","text":"<ul> <li>Date - Split effective date</li> <li>Split - Split ratio (e.g., \"2:1\", \"3:1\", \"4:1\")</li> </ul>"},{"location":"cli/commands/#split-ratio-format","title":"Split Ratio Format","text":"<ul> <li>2:1 - Each share becomes 2 shares (price halves)</li> <li>3:1 - Each share becomes 3 shares (price divided by 3)</li> <li>1:2 - Reverse split - 2 shares become 1 (price doubles)</li> </ul>"},{"location":"cli/commands/#notes_5","title":"Notes","text":"<ul> <li>Stock splits don't change company value</li> <li>Historical prices are adjusted for splits</li> <li>Not all stocks have split history</li> <li>Reverse splits (1:2, 1:5, etc.) are less common</li> </ul>"},{"location":"cli/commands/#actions-command","title":"actions Command","text":"<p>Retrieve all corporate actions (dividends and splits combined).</p>"},{"location":"cli/commands/#synopsis_6","title":"Synopsis","text":"<pre><code>yf actions &lt;SYMBOL&gt; [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#arguments_6","title":"Arguments","text":"<p><code>SYMBOL</code> - Stock ticker symbol</p>"},{"location":"cli/commands/#options_6","title":"Options","text":"Option Short Description Default Example <code>--start &lt;date&gt;</code> <code>-s</code> Start date --start 2020-01-01 <code>--end &lt;date&gt;</code> <code>-e</code> End date today --end 2023-12-31 <code>--lookback &lt;period&gt;</code> <code>-l</code> Lookback period max --lookback=5y"},{"location":"cli/commands/#examples_6","title":"Examples","text":"<pre><code># Get all corporate actions\nyf actions AAPL\n\n# Get actions for last 5 years\nyf actions --symbol=MSFT --lookback=5y\n\n# Get actions for specific date range\nyf actions --symbol=GOOGL --start 2020-01-01 --end 2023-12-31\n\n# Export to CSV\nyf actions --symbol=JNJ --format=csv &gt; jnj_actions.csv\n\n# JSON format\nyf actions --symbol=KO --format=json\n</code></pre>"},{"location":"cli/commands/#output-columns_4","title":"Output Columns","text":"<ul> <li>Date - Action date</li> <li>Dividends - Dividend amount (if applicable)</li> <li>Splits - Split ratio (if applicable)</li> </ul>"},{"location":"cli/commands/#notes_6","title":"Notes","text":"<ul> <li>Combines both dividends and splits in chronological order</li> <li>Shows all corporate actions that affect shareholders</li> <li>Convenient for getting complete corporate action history</li> <li>Use specific commands (<code>dividends</code> or <code>splits</code>) if you need only one type</li> </ul>"},{"location":"cli/commands/#download-command","title":"download Command","text":"<p>Batch download historical data for multiple symbols efficiently.</p>"},{"location":"cli/commands/#synopsis_7","title":"Synopsis","text":"<pre><code>yf download &lt;SYMBOL&gt; [SYMBOL...] [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#arguments_7","title":"Arguments","text":"<p><code>SYMBOL</code> - One or more ticker symbols (space or comma-separated)</p>"},{"location":"cli/commands/#options_7","title":"Options","text":"Option Short Description Default Example <code>--interval &lt;type&gt;</code> <code>-i</code> Time interval 1d --interval=1wk <code>--lookback &lt;period&gt;</code> <code>-l</code> Lookback period 30d --lookback=1y <code>--start &lt;date&gt;</code> <code>-s</code> Start date --start 2024-01-01 <code>--end &lt;date&gt;</code> <code>-e</code> End date today --end 2024-12-31"},{"location":"cli/commands/#intervals_1","title":"Intervals","text":"<p>Same as history command: <code>1d</code> (default), <code>1wk</code>, <code>1mo</code></p>"},{"location":"cli/commands/#examples_7","title":"Examples","text":"<pre><code># Download 30 days for multiple symbols\nyf download AAPL MSFT GOOGL --lookback=30d\n\n# Download with comma-separated symbols\nyf download AAPL,MSFT,GOOGL --lookback=1y\n\n# Download with specific date range\nyf download AAPL MSFT --start 2024-01-01 --end 2024-12-31\n\n# Export to CSV\nyf download AAPL MSFT GOOGL --lookback=90d --format=csv &gt; data.csv\n\n# Weekly data\nyf download AAPL MSFT --lookback=1y --interval=1wk\n\n# Download from file list\ncat symbols.txt | xargs yf download --lookback=1y\n\n# Download large portfolio\nyf download $(cat portfolio.txt) --lookback=30d --format=csv &gt; portfolio_data.csv\n</code></pre>"},{"location":"cli/commands/#output-format","title":"Output Format","text":"<p>The output contains data for all symbols with a <code>Symbol</code> column to identify each stock.</p>"},{"location":"cli/commands/#notes_7","title":"Notes","text":"<ul> <li>More efficient than running <code>history</code> multiple times</li> <li>All symbols are fetched with same date range and interval</li> <li>Output includes all symbols combined (use <code>--format=csv</code> to process)</li> <li>Failed symbols are logged but don't stop other downloads</li> <li>Good for portfolio analysis and batch data collection</li> </ul>"},{"location":"cli/commands/#indicators-command","title":"indicators Command","text":"<p>Calculate technical indicators for analysis and trading signals.</p>"},{"location":"cli/commands/#synopsis_8","title":"Synopsis","text":"<pre><code>yf indicators &lt;SYMBOL&gt; [OPTIONS]\n</code></pre>"},{"location":"cli/commands/#arguments_8","title":"Arguments","text":"<p><code>SYMBOL</code> - Stock ticker symbol to analyze</p>"},{"location":"cli/commands/#options_8","title":"Options","text":"Option Description Default Example <code>--lookback &lt;period&gt;</code> Lookback period 1y --lookback=6mo <code>--interval &lt;type&gt;</code> Data interval 1d --interval=1wk <code>--start &lt;date&gt;</code> Start date --start 2024-01-01 <code>--end &lt;date&gt;</code> End date today --end 2024-12-31"},{"location":"cli/commands/#moving-averages","title":"Moving Averages","text":"Option Description Example <code>--sma &lt;periods&gt;</code> Simple Moving Averages --sma 20,50,200 <code>--ema &lt;periods&gt;</code> Exponential Moving Averages --ema 12,26 <code>--wma &lt;periods&gt;</code> Weighted Moving Averages --wma 10,20"},{"location":"cli/commands/#momentum-indicators","title":"Momentum Indicators","text":"Option Description Default Period <code>--rsi [period]</code> Relative Strength Index 14 <code>--macd</code> MACD (Moving Average Convergence Divergence) 12,26,9 <code>--stochastic</code> Stochastic Oscillator 14,3,3"},{"location":"cli/commands/#volatility-indicators","title":"Volatility Indicators","text":"Option Description Default Period <code>--bb [period]</code> Bollinger Bands 20 <code>--atr [period]</code> Average True Range 14"},{"location":"cli/commands/#trend-indicators","title":"Trend Indicators","text":"Option Description Default Period <code>--adx [period]</code> Average Directional Index 14"},{"location":"cli/commands/#volume-indicators","title":"Volume Indicators","text":"Option Description <code>--obv</code> On-Balance Volume <code>--vwap</code> Volume Weighted Average Price"},{"location":"cli/commands/#special-options","title":"Special Options","text":"Option Description <code>--all</code> Calculate all indicators with default periods"},{"location":"cli/commands/#examples_8","title":"Examples","text":"<pre><code># Calculate common moving averages\nyf indicators --symbol=AAPL --sma 20,50,200\n\n# EMA for short-term trading\nyf indicators --symbol=AAPL --ema 12,26\n\n# RSI for momentum analysis\nyf indicators --symbol=AAPL --rsi\n\n# RSI with custom period\nyf indicators --symbol=AAPL --rsi 10\n\n# MACD and RSI together\nyf indicators --symbol=AAPL --rsi --macd\n\n# Bollinger Bands for volatility\nyf indicators --symbol=AAPL --bb\n\n# Bollinger Bands with custom period\nyf indicators --symbol=AAPL --bb 30\n\n# Multiple indicators\nyf indicators --symbol=AAPL --sma 50,200 --rsi --macd --bb\n\n# All indicators with defaults\nyf indicators --symbol=AAPL --all\n\n# Custom lookback period\nyf indicators --symbol=AAPL --all --lookback=6mo\n\n# Export to CSV for charting\nyf indicators --symbol=AAPL --sma 20,50,200 --rsi --macd --format=csv &gt; aapl_indicators.csv\n\n# Weekly intervals\nyf indicators --symbol=AAPL --sma 10,20,50 --interval=1wk --lookback=2y\n</code></pre>"},{"location":"cli/commands/#indicator-descriptions","title":"Indicator Descriptions","text":"<p>Simple Moving Average (SMA) - Average price over N periods - Common periods: 20 (short), 50 (medium), 200 (long-term) - Crossovers signal trend changes</p> <p>Exponential Moving Average (EMA) - Weighted average emphasizing recent prices - More responsive than SMA - Common for MACD calculation (12, 26)</p> <p>Relative Strength Index (RSI) - Momentum oscillator (0-100) - &gt; 70: Overbought - &lt; 30: Oversold - Default period: 14</p> <p>MACD (Moving Average Convergence Divergence) - Trend-following momentum indicator - Shows relationship between two EMAs (12, 26) - Signal line (9-period EMA) for buy/sell signals</p> <p>Bollinger Bands - Volatility indicator - Middle band: SMA (typically 20) - Upper/Lower bands: \u00b12 standard deviations - Price touching bands indicates extreme levels</p> <p>Average True Range (ATR) - Volatility indicator - Measures price range movement - Higher values = more volatility - Default period: 14</p> <p>Stochastic Oscillator - Momentum indicator (0-100) - Compares closing price to price range - &gt; 80: Overbought - &lt; 20: Oversold</p> <p>Average Directional Index (ADX) - Trend strength indicator (0-100) - &lt; 20: Weak trend - 20-40: Moderate trend - &gt; 40: Strong trend - Doesn't indicate direction</p> <p>On-Balance Volume (OBV) - Volume-based indicator - Rising OBV = buying pressure - Falling OBV = selling pressure - Confirms price trends</p> <p>Volume Weighted Average Price (VWAP) - Average price weighted by volume - Intraday trading benchmark - Price above VWAP: Bullish - Price below VWAP: Bearish</p>"},{"location":"cli/commands/#output-columns_5","title":"Output Columns","text":"<p>Output includes: - Date - OHLCV data (Open, High, Low, Close, Volume) - All calculated indicators</p>"},{"location":"cli/commands/#notes_8","title":"Notes","text":"<ul> <li>Indicators require sufficient historical data</li> <li>More periods = more historical data needed</li> <li>SMA(200) needs at least 200 days of data</li> <li>Use appropriate intervals (1d for daily, 1wk for weekly)</li> <li>Combine multiple indicators for better signals</li> <li>Export to CSV/JSON for further analysis or charting</li> </ul>"},{"location":"cli/commands/#common-examples","title":"Common Examples","text":""},{"location":"cli/commands/#data-export","title":"Data Export","text":"<pre><code># Export historical data to CSV\nyf history --symbol=AAPL --lookback=90d --format=csv &gt; aapl_90d.csv\n\n# Export quotes to JSON\nyf quote AAPL MSFT GOOGL --format=json &gt; quotes.json\n\n# Export comparison to TSV\nyf compare AAPL MSFT GOOGL --format=tsv &gt; comparison.tsv\n</code></pre>"},{"location":"cli/commands/#piping","title":"Piping","text":"<pre><code># Use with jq\nyf quote AAPL --format=json | jq '.regularMarketPrice'\n\n# Use with awk\nyf history --symbol=AAPL --lookback=30d --format=csv | \\\n  awk -F, 'NR&gt;1 &amp;&amp; $5&gt;220 {print $1, $5}'\n\n# Use with grep\nyf quote AAPL MSFT GOOGL | grep -i \"market\"\n\n# Sort by change percentage\nyf quote AAPL MSFT GOOGL AMZN --format=csv | \\\n  tail -n +2 | sort -t, -k3 -nr\n</code></pre>"},{"location":"cli/commands/#monitoring","title":"Monitoring","text":"<pre><code># Watch a stock (update every 60 seconds)\nwatch -n 60 yf quote AAPL\n\n# Monitor multiple stocks with refresh\nwatch -n 60 'yf quote AAPL MSFT GOOGL --refresh'\n\n# Check portfolio\nyf quote $(cat portfolio.txt)\n</code></pre>"},{"location":"cli/commands/#screening-workflows","title":"Screening Workflows","text":"<pre><code># Find value stocks and export\nyf screen AAPL MSFT JPM BAC GS --criteria=value --format=csv &gt; value.csv\n\n# Find stocks up &gt;1% today\nyf screen AAPL MSFT GOOGL AMZN TSLA --criteria=custom \\\n  --where \"changepercent &gt; 1\" --format=minimal\n\n# Complex screening pipeline\ncat watchlist.txt | xargs yf quote --format=csv | \\\n  tail -n +2 | awk -F, '$3 &gt; 2' | cut -d, -f1\n</code></pre>"},{"location":"cli/commands/#international-markets","title":"International Markets","text":"<pre><code># North American stocks\nyf quote AAPL SHOP.TO MXN.TO\n\n# European stocks\nyf quote BP.L VOD.L RIO.L\n\n# Asian stocks\nyf quote 9984.T 6758.T\n\n# Global comparison\nyf compare AAPL SHOP.TO BP.L 9984.T\n</code></pre>"},{"location":"cli/commands/#dividend-analysis","title":"Dividend Analysis","text":"<pre><code># Research dividend stocks\nyf dividends --symbol=JNJ --lookback=10y\nyf dividends --symbol=KO --lookback=10y --format=csv\n\n# Compare dividend histories\nyf dividends --symbol=JNJ --lookback=5y &gt; jnj_div.txt\nyf dividends --symbol=PG --lookback=5y &gt; pg_div.txt\n\n# Export for spreadsheet analysis\nyf dividends --symbol=AAPL MSFT JNJ KO --format=csv &gt; dividends.csv\n\n# Track dividend growth\nyf dividends --symbol=AAPL --format=json | jq '.[] | {date, dividend}'\n</code></pre>"},{"location":"cli/commands/#corporate-actions-tracking","title":"Corporate Actions Tracking","text":"<pre><code># View all actions for a stock\nyf actions --symbol=AAPL --lookback=10y\n\n# Check recent splits\nyf splits --symbol=TSLA --lookback=5y\nyf splits --symbol=NVDA --lookback=5y\n\n# Export actions timeline\nyf actions --symbol=GOOGL --format=csv &gt; googl_actions.csv\n</code></pre>"},{"location":"cli/commands/#portfolio-analysis","title":"Portfolio Analysis","text":"<pre><code># Download portfolio data\nyf download AAPL MSFT GOOGL AMZN --lookback=90d --format=csv &gt; portfolio.csv\n\n# Get indicators for multiple stocks\nfor symbol in AAPL MSFT GOOGL; do\n  yf indicators $symbol --rsi --macd --format=csv &gt; ${symbol}_indicators.csv\ndone\n\n# Batch technical analysis\nyf indicators --symbol=AAPL --all --lookback=1y --format=csv &gt; aapl_full_analysis.csv\n</code></pre>"},{"location":"cli/commands/#technical-analysis","title":"Technical Analysis","text":"<pre><code># Quick trend check with moving averages\nyf indicators --symbol=AAPL --sma 20,50,200\n\n# Momentum analysis\nyf indicators --symbol=AAPL --rsi --macd --stochastic\n\n# Volatility analysis\nyf indicators --symbol=AAPL --bb --atr\n\n# Complete technical picture\nyf indicators --symbol=AAPL --all --format=json &gt; aapl_technicals.json\n</code></pre>"},{"location":"cli/commands/#error-messages","title":"Error Messages","text":"<p>\"Symbol not found\" - Symbol doesn't exist or is delisted - Check symbol format on Yahoo Finance website</p> <p>\"No data returned\" - Date range is invalid - Requesting future dates - 1m interval used with old dates</p> <p>\"Connection error\" - No internet connection - Yahoo Finance is down - Firewall blocking requests</p> <p>\"Invalid expression\" - Syntax error in custom screening expression - Check field names and operators</p>"},{"location":"cli/commands/#exit-codes","title":"Exit Codes","text":"<ul> <li><code>0</code> - Success</li> <li><code>1</code> - Command error (invalid arguments, API failure, etc.)</li> </ul>"},{"location":"cli/commands/#see-also","title":"See Also","text":"<ul> <li>Quick Start Guide - Get started quickly</li> <li>Screening Guide - Advanced screening techniques  </li> <li>Installation Guide - Installation instructions</li> <li>Example Scripts - Working examples</li> </ul>"},{"location":"cli/commands/#command-summary","title":"Command Summary","text":"Command Purpose Common Use <code>history</code> Historical OHLCV data Price trends, backtesting <code>quote</code> Current quotes Market monitoring, quick checks <code>compare</code> Side-by-side comparison Stock comparison, screening <code>screen</code> Filter by criteria Finding opportunities <code>dividends</code> Dividend history Income investing, dividend growth <code>splits</code> Stock splits Historical analysis, adjustments <code>actions</code> All corporate actions Complete event timeline <code>download</code> Batch data download Portfolio analysis, bulk data <code>indicators</code> Technical indicators Trading signals, analysis"},{"location":"cli/quick-start/","title":"Quick Start Guide - yf CLI Tool","text":"<p>This guide will get you started with the <code>yf</code> command-line tool in about 5 minutes.</p>"},{"location":"cli/quick-start/#prerequisites","title":"Prerequisites","text":"<p>Make sure you have installed the <code>yf</code> tool. If not, see the Installation Guide.</p> <p>Verify installation: <pre><code>yf quote AAPL\n</code></pre></p>"},{"location":"cli/quick-start/#basic-commands","title":"Basic Commands","text":"<p>The <code>yf</code> tool has nine main commands:</p> Command Purpose Example <code>history</code> Get historical price data <code>yf history --symbol=AAPL --lookback=30d</code> <code>quote</code> Get current price quotes <code>yf quote AAPL MSFT</code> <code>compare</code> Compare multiple stocks <code>yf compare AAPL MSFT GOOGL</code> <code>screen</code> Filter stocks by criteria <code>yf screen AAPL MSFT --criteria=value</code> <code>dividends</code> Get dividend history <code>yf dividends --symbol=AAPL --lookback=5y</code> <code>splits</code> Get stock split history <code>yf splits --symbol=TSLA --lookback=10y</code> <code>actions</code> Get all corporate actions <code>yf actions --symbol=AAPL --lookback=5y</code> <code>download</code> Batch download data <code>yf download AAPL MSFT --lookback=30d</code> <code>indicators</code> Calculate technical indicators <code>yf indicators --symbol=AAPL --rsi=14 --macd</code> <p>Tip: Use command abbreviations for faster typing: <code>yf h</code>, <code>yf q</code>, <code>yf comp</code>, etc.</p>"},{"location":"cli/quick-start/#1-get-current-quotes","title":"1. Get Current Quotes","text":"<p>Retrieve real-time or delayed quotes for one or more symbols:</p> <pre><code># Single symbol\nyf quote AAPL\n\n# Multiple symbols\nyf quote AAPL MSFT GOOGL\n\n# International stocks\nyf quote AAPL SHOP.TO BP.L  # Canadian, British stocks\n\n# Cryptocurrencies\nyf quote BTC-USD ETH-USD\n</code></pre> <p>Output: <pre><code>Symbol  Price     Change    Change%   Volume        Market Cap\nAAPL    $225.50   +2.30     +1.03%    65432100      $3.45T\n</code></pre></p>"},{"location":"cli/quick-start/#2-get-historical-data","title":"2. Get Historical Data","text":"<p>Retrieve historical price data:</p> <pre><code># Last 7 days (default)\nyf history --symbol=AAPL --lookback=7d\n\n# Last 30 days\nyf history --symbol=AAPL --lookback=30d\n\n# Last 6 months\nyf history --symbol=AAPL --lookback=180d\n\n# Specific date range\nyf history --symbol=AAPL --start 2024-01-01 --end 2024-01-31\n</code></pre> <p>Output: <pre><code>Date        Open      High      Low       Close     Volume\n2024-01-15  $185.90   $189.50   $185.20   $188.63   52431000\n2024-01-16  $188.70   $191.20   $188.30   $190.92   48723000\n...\n</code></pre></p>"},{"location":"cli/quick-start/#3-compare-stocks","title":"3. Compare Stocks","text":"<p>View multiple stocks side-by-side:</p> <pre><code>yf compare AAPL MSFT GOOGL\n</code></pre> <p>Output: <pre><code>Symbol  Price     Change%   Volume        52W Low   52W High  Market Cap\nAAPL    $225.50   +1.03%    65432100      $164.08   $237.23   $3.45T\nMSFT    $415.20   +0.87%    23456789      $309.45   $430.82   $3.08T\nGOOGL   $155.80   -0.45%    18765432      $121.46   $166.83   $1.95T\n</code></pre></p>"},{"location":"cli/quick-start/#4-screen-stocks","title":"4. Screen Stocks","text":"<p>Filter stocks based on criteria:</p> <pre><code># Predefined criteria\nyf screen AAPL MSFT GOOGL AMZN --criteria=value     # Value stocks\nyf screen AAPL MSFT GOOGL AMZN --criteria=growth    # Growth stocks\nyf screen AAPL MSFT GOOGL AMZN --criteria=dividend  # High dividend\n\n# Custom filter\nyf screen AAPL MSFT GOOGL --criteria=custom --where \"price &gt; 200\"\nyf screen AAPL MSFT GOOGL --criteria=custom --where \"pe &lt; 30 and yield &gt; 1\"\n</code></pre>"},{"location":"cli/quick-start/#5-get-dividend-history","title":"5. Get Dividend History","text":"<p>Retrieve historical dividend payments:</p> <pre><code># Get all dividend history\nyf dividends AAPL\n\n# Get dividends for last 5 years\nyf dividends --symbol=JNJ --lookback=5y\n\n# Export to CSV\nyf dividends --symbol=MSFT --format=csv &gt; dividends.csv\n</code></pre>"},{"location":"cli/quick-start/#6-check-stock-splits","title":"6. Check Stock Splits","text":"<p>View historical stock split events:</p> <pre><code># Get all split history\nyf splits AAPL\n\n# Get recent splits\nyf splits --symbol=TSLA --lookback=5y\n\n# Export to JSON\nyf splits --symbol=NVDA --format=json\n</code></pre>"},{"location":"cli/quick-start/#7-batch-download-data","title":"7. Batch Download Data","text":"<p>Download data for multiple symbols efficiently:</p> <pre><code># Download for multiple symbols\nyf download AAPL MSFT GOOGL --lookback=30d\n\n# Export to CSV\nyf download AAPL MSFT GOOGL --lookback=90d --format=csv &gt; data.csv\n</code></pre>"},{"location":"cli/quick-start/#8-technical-analysis","title":"8. Technical Analysis","text":"<p>Calculate technical indicators:</p> <pre><code># Moving averages\nyf indicators --symbol=AAPL --sma 20,50,200\n\n# Momentum indicators\nyf indicators --symbol=AAPL --rsi --macd\n\n# All indicators\nyf indicators --symbol=AAPL --all\n</code></pre>"},{"location":"cli/quick-start/#output-formats","title":"Output Formats","text":"<p>Change the output format with <code>--format</code>:</p> <pre><code># Table format (default, human-readable)\nyf quote AAPL --format=table\n\n# CSV format (for spreadsheets)\nyf quote AAPL --format=csv\n\n# JSON format (for scripts/programs)\nyf quote AAPL --format=json\n\n# TSV format (tab-separated)\nyf quote AAPL --format=tsv\n\n# Minimal format (values only)\nyf quote AAPL --format=minimal\n</code></pre>"},{"location":"cli/quick-start/#common-use-cases","title":"Common Use Cases","text":""},{"location":"cli/quick-start/#export-to-csv-file","title":"Export to CSV File","text":"<pre><code>yf history --symbol=AAPL --lookback=30d --format=csv &gt; aapl_data.csv\n</code></pre>"},{"location":"cli/quick-start/#monitor-multiple-stocks","title":"Monitor Multiple Stocks","text":"<pre><code>yf quote AAPL MSFT GOOGL AMZN TSLA\n</code></pre>"},{"location":"cli/quick-start/#get-intraday-data","title":"Get Intraday Data","text":"<pre><code># Hourly data for last 3 days\nyf history --symbol=AAPL --lookback=3d --interval=1h\n\n# 5-minute data for today\nyf history --symbol=AAPL --lookback=1d --interval 5m\n</code></pre>"},{"location":"cli/quick-start/#filter-high-volume-stocks","title":"Filter High-Volume Stocks","text":"<pre><code>yf screen AAPL MSFT GOOGL AMZN TSLA NVDA \\\n  --criteria=custom \\\n  --where \"volume &gt; 50000000\"\n</code></pre>"},{"location":"cli/quick-start/#find-gainers","title":"Find Gainers","text":"<pre><code>yf screen AAPL MSFT GOOGL AMZN TSLA \\\n  --criteria=custom \\\n  --where \"changepercent &gt; 2\"\n</code></pre>"},{"location":"cli/quick-start/#intervals","title":"Intervals","text":"<p>Historical data supports different time intervals:</p> <pre><code># Intraday\nyf history --symbol=AAPL --lookback=1d --interval 1m   # 1-minute bars\nyf history --symbol=AAPL --lookback=5d --interval 5m   # 5-minute bars\nyf history --symbol=AAPL --lookback=7d --interval=1h   # 1-hour bars\n\n# Daily and longer\nyf history --symbol=AAPL --lookback=90d --interval=1d  # Daily bars (default)\nyf history --symbol=AAPL --lookback=365d --interval=1wk  # Weekly bars\nyf history --symbol=AAPL --lookback=1825d --interval 1mo # Monthly bars (5 years)\n</code></pre> <p>Note: Shorter intervals have limited historical data availability (1-minute data is typically limited to ~7 days).</p>"},{"location":"cli/quick-start/#caching","title":"Caching","text":"<p>The tool caches quote data for 5 minutes to reduce API calls:</p> <pre><code># First request - fetches from Yahoo Finance\nyf quote AAPL\n\n# Second request within 5 minutes - uses cache\nyf quote AAPL\n\n# Force refresh (bypass cache)\nyf quote AAPL --refresh\n</code></pre> <p>Historical data is not cached by default since it changes less frequently.</p>"},{"location":"cli/quick-start/#practical-examples","title":"Practical Examples","text":""},{"location":"cli/quick-start/#daily-market-check","title":"Daily Market Check","text":"<pre><code># Check your portfolio\nyf quote AAPL MSFT GOOGL\n\n# See which are up/down\nyf screen AAPL MSFT GOOGL AMZN TSLA \\\n  --criteria=custom \\\n  --where \"changepercent &gt; 0\"\n</code></pre>"},{"location":"cli/quick-start/#research-a-stock","title":"Research a Stock","text":"<pre><code># Current quote\nyf quote AAPL\n\n# Recent price history\nyf history --symbol=AAPL --lookback=30d\n\n# Dividend history\nyf dividends --symbol=AAPL --lookback=5y\n\n# Check for splits\nyf splits --symbol=AAPL --lookback=10y\n\n# Technical indicators\nyf indicators --symbol=AAPL --sma 50,200 --rsi\n\n# Compare to competitors\nyf compare AAPL MSFT GOOGL\n</code></pre>"},{"location":"cli/quick-start/#export-for-analysis","title":"Export for Analysis","text":"<pre><code># Get data in different formats\nyf history --symbol=AAPL --lookback=90d --format=csv &gt; data.csv\nyf quote AAPL MSFT GOOGL --format=json &gt; quotes.json\n\n# Download multiple symbols at once\nyf download AAPL MSFT GOOGL --lookback=30d --format=csv &gt; portfolio.csv\n\n# Export technical indicators\nyf indicators --symbol=AAPL --all --format=csv &gt; indicators.csv\n\n# Export dividend history\nyf dividends --symbol=AAPL --lookback=10y --format=csv &gt; dividends.csv\n</code></pre>"},{"location":"cli/quick-start/#create-a-watchlist","title":"Create a Watchlist","text":"<p>Create a text file with symbols:</p> <pre><code># Create watchlist.txt\ncat &gt; watchlist.txt &lt;&lt; EOF\nAAPL\nMSFT\nGOOGL\nAMZN\nTSLA\nEOF\n\n# Monitor all symbols\nyf quote $(cat watchlist.txt)\n</code></pre>"},{"location":"cli/quick-start/#tips","title":"Tips","text":"<ol> <li>Use short lookback periods for intraday intervals (1m, 5m, 15m)</li> <li>Cache results - quote data is cached for 5 minutes automatically</li> <li>Pipe to other tools - all commands work well with grep, awk, jq</li> <li>Use CSV/JSON for automation - easier to parse than table format</li> <li>Check symbol format - international stocks may need exchange suffix (e.g., \"SHOP.TO\")</li> <li>Use <code>download</code> for multiple symbols - more efficient than multiple <code>history</code> commands</li> <li>Combine indicators - use multiple technical indicators for better analysis</li> <li>Export for charting - CSV output works well with spreadsheets and charting tools</li> </ol>"},{"location":"cli/quick-start/#common-issues","title":"Common Issues","text":"<p>\"Symbol not found\" - Check the symbol is valid on Yahoo Finance website - Try different formats (e.g., \"BRK-B\" not \"BRK.B\") - Add exchange suffix for international stocks</p> <p>\"No data returned\" - Check date range is valid (not in the future) - 1-minute interval only works for recent data (~7 days) - Some symbols have limited historical data</p> <p>\"Connection error\" - Check internet connection - Yahoo Finance may be temporarily unavailable - Try again after a few seconds</p>"},{"location":"cli/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Commands Reference - Complete documentation of all commands and options</li> <li>Screening Guide - Advanced filtering and custom expressions</li> <li>Example Scripts - Working shell script examples</li> </ul>"},{"location":"cli/quick-start/#getting-help","title":"Getting Help","text":"<p>Show command help: <pre><code>yf --help           # General help\nyf history --help   # Command-specific help\nyf quote --help\nyf compare --help\nyf screen --help\n</code></pre></p> <p>For issues or questions: - Check the Commands Reference - See Example Scripts - Report bugs: https://github.com/yourusername/yfnim/issues</p>"},{"location":"cli/quick-start/#new-features","title":"New Features","text":""},{"location":"cli/quick-start/#command-abbreviations","title":"Command Abbreviations","text":"<p>Use any unique prefix to abbreviate commands:</p> <pre><code>yf h --symbol=AAPL --lookback=30d      # history\nyf q AAPL MSFT                         # quote\nyf comp AAPL MSFT GOOGL                # compare\nyf down AAPL MSFT --lookback=1y        # download\nyf div --symbol=JNJ --lookback=5y      # dividends\nyf ind --symbol=AAPL --rsi=14          # indicators\n</code></pre>"},{"location":"cli/quick-start/#piped-input","title":"Piped Input","text":"<p>Read symbols from stdin for batch processing:</p> <pre><code># From a file\ncat symbols.txt | yf quote --read-stdin\n\n# From echo\necho \"AAPL MSFT GOOGL\" | yf quote --read-stdin\n\n# Mixed format (comma and space separated)\necho -e \"AAPL,MSFT\\nGOOGL AMZN\" | yf download --read-stdin --lookback=30d\n\n# From other commands\ngrep \"^A\" symbols.txt | yf quote --read-stdin\n</code></pre>"},{"location":"cli/quick-start/#output-redirection","title":"Output Redirection","text":"<p>Separate data and messages for clean piping:</p> <pre><code># Data goes to stdout, messages to stderr\nyf quote AAPL --verbose &gt; data.csv 2&gt; status.log\n\n# Silent mode (no messages)\nyf quote AAPL &gt; data.csv\n\n# Only see errors\nyf quote AAPL 2&gt;&amp;1 | grep -i error\n\n# Chain commands\nyf quote AAPL MSFT --format=csv | awk -F, '$3 &gt; 0 {print $1, $3}'\n</code></pre>"},{"location":"cli/quick-start/#verbose-mode","title":"Verbose Mode","text":"<p>Use <code>--verbose</code> (or <code>-v</code>) to see progress messages:</p> <pre><code># With progress messages\nyf download AAPL MSFT GOOGL --lookback=1y --verbose\n\n# Silent (default)\nyf download AAPL MSFT GOOGL --lookback=1y\n</code></pre>"},{"location":"cli/quick-start/#help-and-documentation","title":"Help and Documentation","text":"<p>Get help for any command:</p> <pre><code># General help\nyf --help\n\n# Command-specific help\nyf history --help\nyf quote --help\nyf indicators --help\n\n# See all commands\nyf help\n</code></pre>"},{"location":"cli/quick-start/#next-steps_1","title":"Next Steps","text":"<ul> <li>Complete Commands Reference - Detailed documentation for all commands</li> <li>Stock Screening Guide - Advanced filtering and screening</li> <li>Installation Guide - Build and install from source</li> </ul>"},{"location":"cli/screening/","title":"Stock Screening Guide","text":"<p>This guide covers advanced stock screening techniques using the <code>yf screen</code> command.</p>"},{"location":"cli/screening/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Predefined Criteria</li> <li>Custom Expressions</li> <li>Expression Syntax</li> <li>Common Screening Strategies</li> <li>Tips and Best Practices</li> </ul>"},{"location":"cli/screening/#overview","title":"Overview","text":"<p>Stock screening helps you filter a list of stocks based on specific criteria. The <code>yf screen</code> command supports:</p> <ol> <li>Predefined criteria - Quick filters for common strategies</li> <li>Custom expressions - Build your own filtering logic</li> </ol>"},{"location":"cli/screening/#basic-usage","title":"Basic Usage","text":"<pre><code>yf screen &lt;SYMBOLS...&gt; --criteria=&lt;type&gt; [--where &lt;expression&gt;]\n</code></pre>"},{"location":"cli/screening/#predefined-criteria","title":"Predefined Criteria","text":"<p>Predefined criteria provide quick filtering without writing expressions.</p>"},{"location":"cli/screening/#value-stocks","title":"Value Stocks","text":"<p>Focuses on potentially undervalued stocks.</p> <p>Criteria: - P/E ratio &lt; 20 - Dividend yield &gt; 2%</p> <pre><code>yf screen AAPL MSFT JPM BAC GS WFC KO PG --criteria=value\n</code></pre> <p>Use when: Looking for stocks trading below market average valuation with dividend income.</p>"},{"location":"cli/screening/#growth-stocks","title":"Growth Stocks","text":"<p>Focuses on stocks with positive momentum.</p> <p>Criteria: - Positive price change today (change% &gt; 0)</p> <pre><code>yf screen AAPL MSFT GOOGL AMZN TSLA NVDA --criteria=growth\n</code></pre> <p>Use when: Looking for stocks with upward momentum.</p>"},{"location":"cli/screening/#dividend-stocks","title":"Dividend Stocks","text":"<p>Focuses on income-generating stocks.</p> <p>Criteria: - Dividend yield &gt; 2%</p> <pre><code>yf screen T VZ XOM CVX PFE JNJ --criteria=dividend\n</code></pre> <p>Use when: Building an income portfolio.</p>"},{"location":"cli/screening/#momentum-stocks","title":"Momentum Stocks","text":"<p>Focuses on strong performers with high activity.</p> <p>Criteria: - Price change &gt; 2% - Volume above average</p> <pre><code>yf screen AAPL MSFT GOOGL AMZN TSLA NVDA META --criteria=momentum\n</code></pre> <p>Use when: Looking for stocks with strong recent performance.</p>"},{"location":"cli/screening/#custom-expressions","title":"Custom Expressions","text":"<p>Custom expressions let you define your own screening logic.</p>"},{"location":"cli/screening/#basic-format","title":"Basic Format","text":"<pre><code>yf screen SYMBOLS... --criteria=custom --where \"EXPRESSION\"\n</code></pre>"},{"location":"cli/screening/#simple-expression","title":"Simple Expression","text":"<pre><code>yf screen AAPL MSFT GOOGL --criteria=custom --where \"price &gt; 200\"\n</code></pre> <p>This returns only stocks priced above $200.</p>"},{"location":"cli/screening/#expression-syntax","title":"Expression Syntax","text":""},{"location":"cli/screening/#comparison-operators","title":"Comparison Operators","text":"Operator Meaning Example <code>&lt;</code> Less than <code>pe &lt; 20</code> <code>&gt;</code> Greater than <code>price &gt; 100</code> <code>&lt;=</code> Less than or equal <code>pe &lt;= 20</code> <code>&gt;=</code> Greater than or equal <code>yield &gt;= 2</code> <code>=</code> Equal to <code>price = 150</code> <code>!=</code> Not equal to <code>volume != 0</code>"},{"location":"cli/screening/#boolean-operators","title":"Boolean Operators","text":"Operator Meaning Example <code>and</code> Both conditions must be true <code>pe &lt; 20 and yield &gt; 2</code> <code>or</code> Either condition must be true <code>pe &lt; 15 or yield &gt; 3</code>"},{"location":"cli/screening/#available-fields","title":"Available Fields","text":"<p>Price Fields: - <code>price</code> - Current market price - <code>change</code> - Absolute price change - <code>changepercent</code> - Percentage change - <code>open</code> - Opening price - <code>high</code> - Day's high price - <code>low</code> - Day's low price - <code>prevclose</code> - Previous closing price</p> <p>52-Week Fields: - <code>52whigh</code> - 52-week high - <code>52wlow</code> - 52-week low - <code>52wchangepercent</code> - % change from 52-week low</p> <p>Volume Fields: - <code>volume</code> - Trading volume today - <code>avgvolume</code> - Average daily volume</p> <p>Valuation Fields: - <code>pe</code> - Price-to-earnings ratio - <code>yield</code> - Dividend yield (%) - <code>marketcap</code> - Market capitalization</p>"},{"location":"cli/screening/#arithmetic-in-expressions","title":"Arithmetic in Expressions","text":"<p>You can use basic arithmetic:</p> <pre><code># Near 52-week high (within 5%)\nyf screen SYMBOLS --criteria=custom --where \"price &gt;= 52whigh * 0.95\"\n\n# Volume above 2x average\nyf screen SYMBOLS --criteria=custom --where \"volume &gt; avgvolume * 2\"\n\n# Price range check\nyf screen SYMBOLS --criteria=custom --where \"price &gt; 52wlow * 1.2 and price &lt; 52whigh * 0.9\"\n</code></pre>"},{"location":"cli/screening/#common-screening-strategies","title":"Common Screening Strategies","text":""},{"location":"cli/screening/#value-investing","title":"Value Investing","text":"<p>Find undervalued stocks with good fundamentals.</p> <pre><code># Low P/E with dividends\nyf screen AAPL MSFT JPM BAC WFC GS \\\n  --criteria=custom \\\n  --where \"pe &lt; 20 and yield &gt; 2\"\n\n# Cheap stocks with positive change\nyf screen AAPL MSFT JPM BAC WFC \\\n  --criteria=custom \\\n  --where \"pe &lt; 15 and changepercent &gt; 0 and price &gt; 10\"\n\n# Deep value with margin of safety\nyf screen AAPL MSFT JPM BAC WFC KO PG \\\n  --criteria=custom \\\n  --where \"pe &lt; 12 and yield &gt; 3 and price &lt; 52whigh * 0.7\"\n</code></pre>"},{"location":"cli/screening/#growth-investing","title":"Growth Investing","text":"<p>Find stocks with strong momentum.</p> <pre><code># Strong daily gainers\nyf screen AAPL MSFT GOOGL AMZN TSLA NVDA \\\n  --criteria=custom \\\n  --where \"changepercent &gt; 2\"\n\n# Positive momentum with volume\nyf screen AAPL MSFT GOOGL AMZN TSLA \\\n  --criteria=custom \\\n  --where \"changepercent &gt; 1 and volume &gt; 10000000\"\n\n# Near highs with momentum\nyf screen AAPL MSFT GOOGL NVDA AMD \\\n  --criteria=custom \\\n  --where \"price &gt;= 52whigh * 0.9 and changepercent &gt; 0\"\n</code></pre>"},{"location":"cli/screening/#income-investing","title":"Income Investing","text":"<p>Find dividend-paying stocks.</p> <pre><code># High-yield dividend stocks\nyf screen T VZ XOM CVX PFE JNJ KO PG \\\n  --criteria=custom \\\n  --where \"yield &gt; 3\"\n\n# Dividend growth\nyf screen T VZ XOM CVX PFE JNJ \\\n  --criteria=custom \\\n  --where \"yield &gt; 2 and changepercent &gt; 0\"\n\n# Quality dividends\nyf screen T VZ XOM CVX JNJ KO PG \\\n  --criteria=custom \\\n  --where \"yield &gt; 2 and pe &lt; 25 and price &gt; 50\"\n</code></pre>"},{"location":"cli/screening/#technical-analysis","title":"Technical Analysis","text":"<p>Find technical setups.</p> <pre><code># Breakout candidates (near 52-week high)\nyf screen AAPL MSFT GOOGL NVDA AMD \\\n  --criteria=custom \\\n  --where \"price &gt;= 52whigh * 0.95\"\n\n# Oversold (near 52-week low)\nyf screen AAPL MSFT GOOGL AMZN \\\n  --criteria=custom \\\n  --where \"price &lt;= 52wlow * 1.1\"\n\n# High volume breakout\nyf screen AAPL MSFT GOOGL TSLA NVDA \\\n  --criteria=custom \\\n  --where \"changepercent &gt; 2 and volume &gt; avgvolume * 1.5\"\n</code></pre>"},{"location":"cli/screening/#volatility-plays","title":"Volatility Plays","text":"<p>Find volatile stocks.</p> <pre><code># Large movers (up or down)\nyf screen AAPL MSFT GOOGL AMZN TSLA \\\n  --criteria=custom \\\n  --where \"changepercent &gt; 3 or changepercent &lt; -3\"\n\n# High volume activity\nyf screen AAPL MSFT GOOGL AMZN TSLA NVDA \\\n  --criteria=custom \\\n  --where \"volume &gt; 50000000\"\n</code></pre>"},{"location":"cli/screening/#price-range-filters","title":"Price Range Filters","text":"<p>Find stocks in specific price ranges.</p> <pre><code># Affordable stocks under $50\nyf screen AAPL MSFT GOOGL AMZN T VZ \\\n  --criteria=custom \\\n  --where \"price &lt; 50 and price &gt; 10\"\n\n# Mid-cap range\nyf screen AAPL MSFT GOOGL AMZN \\\n  --criteria=custom \\\n  --where \"price &gt; 100 and price &lt; 300\"\n\n# High-priced stocks\nyf screen AAPL MSFT GOOGL AMZN TSLA \\\n  --criteria=custom \\\n  --where \"price &gt; 200\"\n</code></pre>"},{"location":"cli/screening/#tips-and-best-practices","title":"Tips and Best Practices","text":""},{"location":"cli/screening/#1-start-with-a-universe","title":"1. Start with a Universe","text":"<p>Define your stock universe before screening:</p> <pre><code># Create a watchlist file\ncat &gt; watchlist.txt &lt;&lt; EOF\nAAPL\nMSFT\nGOOGL\nAMZN\nTSLA\nNVDA\nMETA\nEOF\n\n# Screen the watchlist\nyf screen $(cat watchlist.txt) --criteria=value\n</code></pre>"},{"location":"cli/screening/#2-combine-multiple-filters","title":"2. Combine Multiple Filters","text":"<p>Use <code>and</code> to make filters more selective:</p> <pre><code># Quality value stocks\nyf screen SYMBOLS --criteria=custom \\\n  --where \"pe &lt; 20 and yield &gt; 2 and price &gt; 50 and volume &gt; 1000000\"\n</code></pre>"},{"location":"cli/screening/#3-use-or-for-alternatives","title":"3. Use OR for Alternatives","text":"<p>Find stocks matching any of several criteria:</p> <pre><code># Value OR growth\nyf screen SYMBOLS --criteria=custom \\\n  --where \"pe &lt; 15 or changepercent &gt; 3\"\n</code></pre>"},{"location":"cli/screening/#4-export-results","title":"4. Export Results","text":"<p>Save screening results for later analysis:</p> <pre><code># Export to CSV\nyf screen SYMBOLS --criteria=value --format=csv &gt; value_stocks.csv\n\n# Export to JSON\nyf screen SYMBOLS --criteria=custom \\\n  --where \"pe &lt; 20\" --format=json &gt; results.json\n</code></pre>"},{"location":"cli/screening/#5-automate-screening","title":"5. Automate Screening","text":"<p>Create scripts for regular screening:</p> <pre><code>#!/bin/bash\n# daily_screen.sh\n\nUNIVERSE=\"AAPL MSFT GOOGL AMZN TSLA NVDA META JPM BAC GS\"\n\necho \"=== Value Stocks ===\"\nyf screen $UNIVERSE --criteria=value\n\necho \"\"\necho \"=== Growth Stocks ===\"\nyf screen $UNIVERSE --criteria=growth\n\necho \"\"\necho \"=== Custom: Quality Growth ===\"\nyf screen $UNIVERSE --criteria=custom \\\n  --where \"changepercent &gt; 1 and volume &gt; 10000000\"\n</code></pre>"},{"location":"cli/screening/#6-iterate-and-refine","title":"6. Iterate and Refine","text":"<p>Start broad, then narrow down:</p> <pre><code># Step 1: Find all gainers\nyf screen SYMBOLS --criteria=custom --where \"changepercent &gt; 0\"\n\n# Step 2: Add volume filter\nyf screen SYMBOLS --criteria=custom \\\n  --where \"changepercent &gt; 0 and volume &gt; 5000000\"\n\n# Step 3: Add valuation filter\nyf screen SYMBOLS --criteria=custom \\\n  --where \"changepercent &gt; 0 and volume &gt; 5000000 and pe &lt; 30\"\n</code></pre>"},{"location":"cli/screening/#7-mind-the-data-quality","title":"7. Mind the Data Quality","text":"<p>Not all fields are available for all stocks:</p> <pre><code># Some stocks may not have P/E ratios\n# Be aware that these will be filtered out\nyf screen SYMBOLS --criteria=custom --where \"pe &lt; 20\"\n\n# Check results manually if needed\nyf quote SYMBOL --format=json | grep -i \"trailingPE\"\n</code></pre>"},{"location":"cli/screening/#8-combine-with-other-tools","title":"8. Combine with Other Tools","text":"<p>Integrate screening with Unix tools:</p> <pre><code># Screen and sort by change percentage\nyf screen SYMBOLS --criteria=growth --format=csv | \\\n  tail -n +2 | sort -t, -k3 -nr\n\n# Screen and extract symbols only\nyf screen SYMBOLS --criteria=value --format=minimal | \\\n  cut -d' ' -f1 &gt; value_symbols.txt\n\n# Screen multiple times and compare\nyf screen SYMBOLS --criteria=value --format=csv &gt; value.csv\nyf screen SYMBOLS --criteria=growth --format=csv &gt; growth.csv\ncomm -12 &lt;(tail -n +2 value.csv | cut -d, -f1 | sort) \\\n         &lt;(tail -n +2 growth.csv | cut -d, -f1 | sort)\n</code></pre>"},{"location":"cli/screening/#expression-examples-library","title":"Expression Examples Library","text":""},{"location":"cli/screening/#by-pe-ratio","title":"By P/E Ratio","text":"<pre><code># Very cheap (P/E &lt; 10)\n\"pe &lt; 10\"\n\n# Reasonable valuation (P/E &lt; 20)\n\"pe &lt; 20\"\n\n# Growth stocks (P/E 20-40)\n\"pe &gt; 20 and pe &lt; 40\"\n</code></pre>"},{"location":"cli/screening/#by-dividend-yield","title":"By Dividend Yield","text":"<pre><code># High yield (&gt; 3%)\n\"yield &gt; 3\"\n\n# Moderate yield (1-3%)\n\"yield &gt; 1 and yield &lt; 3\"\n\n# Dividend payers with growth\n\"yield &gt; 2 and changepercent &gt; 0\"\n</code></pre>"},{"location":"cli/screening/#by-price-change","title":"By Price Change","text":"<pre><code># Strong gainers (&gt; 2%)\n\"changepercent &gt; 2\"\n\n# Any gainers\n\"changepercent &gt; 0\"\n\n# Decliners\n\"changepercent &lt; 0\"\n\n# Extreme movers (up or down)\n\"changepercent &gt; 5 or changepercent &lt; -5\"\n</code></pre>"},{"location":"cli/screening/#by-volume","title":"By Volume","text":"<pre><code># High volume (&gt; 50M)\n\"volume &gt; 50000000\"\n\n# Above average volume\n\"volume &gt; avgvolume\"\n\n# Volume spike (2x average)\n\"volume &gt; avgvolume * 2\"\n</code></pre>"},{"location":"cli/screening/#by-52-week-range","title":"By 52-Week Range","text":"<pre><code># Near 52-week high (top 5%)\n\"price &gt;= 52whigh * 0.95\"\n\n# Near 52-week low (bottom 10%)\n\"price &lt;= 52wlow * 1.1\"\n\n# Middle of range\n\"price &gt; 52wlow * 1.3 and price &lt; 52whigh * 0.7\"\n</code></pre>"},{"location":"cli/screening/#troubleshooting","title":"Troubleshooting","text":""},{"location":"cli/screening/#no-results-returned","title":"No Results Returned","text":"<p>Cause: Criteria too restrictive or no stocks match.</p> <p>Solution: - Relax your criteria - Check if fields are available for your stocks - Verify expression syntax</p>"},{"location":"cli/screening/#invalid-expression-error","title":"\"Invalid expression\" Error","text":"<p>Cause: Syntax error in expression.</p> <p>Solution: - Check field names (use <code>price</code> not <code>Price</code>) - Verify operators (<code>and</code> not <code>AND</code>) - Ensure proper spacing around operators - Check for typos</p>"},{"location":"cli/screening/#unexpected-results","title":"Unexpected Results","text":"<p>Cause: Expression logic issue or data availability.</p> <p>Solution: - Test with simple expressions first - Verify data with <code>yf quote</code> command - Check if optional fields (P/E, yield) are available - Review boolean logic (and vs or)</p>"},{"location":"cli/screening/#see-also","title":"See Also","text":"<ul> <li>Commands Reference - Complete command documentation</li> <li>Quick Start Guide - Basic usage</li> <li>Example: screening.sh - Working examples</li> </ul>"},{"location":"cli/screening/#related-commands","title":"Related Commands","text":"<p>For complementary analysis, also check out: - <code>yf compare</code> - Compare stocks side-by-side - <code>yf download</code> - Batch download screened symbols - <code>yf indicators</code> - Technical analysis on screened stocks - <code>yf dividends</code> - Dividend history for income screening</p>"},{"location":"library/getting-started/","title":"Getting Started with yfnim Library","text":"<p>Welcome to yfnim - a lightweight, pure-Nim library for retrieving stock market data from Yahoo Finance!</p> <p>This guide will help you get started with the library in just a few minutes.</p>"},{"location":"library/getting-started/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Installation</li> <li>Your First Program</li> <li>Understanding the Basics</li> <li>Common Patterns</li> <li>Next Steps</li> </ul>"},{"location":"library/getting-started/#installation","title":"Installation","text":""},{"location":"library/getting-started/#using-nimble-recommended","title":"Using Nimble (Recommended)","text":"<pre><code>nimble install yfnim\n</code></pre>"},{"location":"library/getting-started/#from-source","title":"From Source","text":"<pre><code>git clone https://github.com/yourusername/yfnim.git\ncd yfnim\nnimble install\n</code></pre>"},{"location":"library/getting-started/#your-first-program","title":"Your First Program","text":"<p>Let's write a simple program that fetches the last 7 days of stock data for Apple (AAPL):</p> <pre><code>import yfnim\nimport std/times\n\n# Calculate date range (last 7 days)\nlet endTime = getTime().toUnix()\nlet startTime = endTime - (7 * 86400)  # 7 days * 86400 seconds/day\n\n# Fetch historical data\nlet history = getHistory(\"AAPL\", Int1d, startTime, endTime)\n\n# Display results\necho \"Retrieved \", history.data.len, \" days of data for \", history.symbol\n\nfor bar in history.data:\n  echo \"Date: \", fromUnix(bar.date).format(\"yyyy-MM-dd\"), \n       \" Close: $\", bar.close\n</code></pre>"},{"location":"library/getting-started/#compiling-and-running","title":"Compiling and Running","text":"<p>Important: You must compile with the <code>-d:ssl</code> flag to enable HTTPS support:</p> <pre><code>nim c -d:ssl -r myprogram.nim\n</code></pre> <p>Without <code>-d:ssl</code>, you'll get SSL/HTTPS errors when trying to connect to Yahoo Finance.</p>"},{"location":"library/getting-started/#understanding-the-basics","title":"Understanding the Basics","text":""},{"location":"library/getting-started/#core-concepts","title":"Core Concepts","text":""},{"location":"library/getting-started/#1-time-intervals","title":"1. Time Intervals","text":"<p>yfnim supports multiple time intervals for historical data:</p> Interval Description Max History Use Case <code>Int1m</code> 1 minute ~7 days Day trading, tick analysis <code>Int5m</code> 5 minutes ~60 days Intraday patterns <code>Int15m</code> 15 minutes ~60 days Short-term analysis <code>Int30m</code> 30 minutes ~60 days Intraday trends <code>Int1h</code> 1 hour ~2 years Multi-day analysis <code>Int1d</code> 1 day Many years Most common <code>Int1wk</code> 1 week Many years Long-term trends <code>Int1mo</code> 1 month Many years Historical research <p>Recommendation: Start with <code>Int1d</code> (daily) for most use cases.</p>"},{"location":"library/getting-started/#2-unix-timestamps","title":"2. Unix Timestamps","text":"<p>yfnim uses Unix timestamps (seconds since Jan 1, 1970) for date/time handling. Nim's <code>std/times</code> module makes this easy:</p> <pre><code>import std/times\n\n# Current time\nlet now = getTime().toUnix()\n\n# 30 days ago\nlet thirtyDaysAgo = now - (30 * 86400)\n\n# Specific date\nlet specificDate = parse(\"2024-01-15\", \"yyyy-MM-dd\").toTime().toUnix()\n\n# Convert back to readable format\necho fromUnix(now).format(\"yyyy-MM-dd HH:mm:ss\")\n</code></pre>"},{"location":"library/getting-started/#3-data-structures","title":"3. Data Structures","text":"<p>HistoryRecord - A single data point (OHLCV bar):</p> <pre><code>type HistoryRecord = object\n  date: int64      # Unix timestamp\n  open: float64    # Opening price\n  high: float64    # High price\n  low: float64     # Low price\n  close: float64   # Closing price\n  volume: int64    # Trading volume\n</code></pre> <p>History - A time series of data:</p> <pre><code>type History = object\n  symbol: string\n  interval: Interval\n  data: seq[HistoryRecord]  # Array of OHLCV bars\n</code></pre>"},{"location":"library/getting-started/#common-patterns","title":"Common Patterns","text":""},{"location":"library/getting-started/#pattern-1-fetch-last-n-days","title":"Pattern 1: Fetch Last N Days","text":"<pre><code>import yfnim\nimport std/times\n\nproc getLastNDays(symbol: string, days: int): History =\n  let endTime = getTime().toUnix()\n  let startTime = endTime - (days * 86400)\n  return getHistory(symbol, Int1d, startTime, endTime)\n\n# Usage\nlet history = getLastNDays(\"AAPL\", 30)\necho \"Retrieved \", history.data.len, \" days\"\n</code></pre>"},{"location":"library/getting-started/#pattern-2-fetch-specific-date-range","title":"Pattern 2: Fetch Specific Date Range","text":"<pre><code>import yfnim\nimport std/times\n\nlet startDate = parse(\"2024-01-01\", \"yyyy-MM-dd\").toTime().toUnix()\nlet endDate = parse(\"2024-01-31\", \"yyyy-MM-dd\").toTime().toUnix()\n\nlet history = getHistory(\"MSFT\", Int1d, startDate, endDate)\n</code></pre>"},{"location":"library/getting-started/#pattern-3-calculate-simple-statistics","title":"Pattern 3: Calculate Simple Statistics","text":"<pre><code>import yfnim\nimport std/[times, math]\n\nlet history = getLastNDays(\"GOOGL\", 30)\n\n# Calculate average close\nvar sum = 0.0\nfor bar in history.data:\n  sum += bar.close\nlet average = sum / history.data.len.float\n\necho \"30-day average: $\", average.formatFloat(ffDecimal, 2)\n\n# Find highest and lowest\nvar highest = 0.0\nvar lowest = Inf\n\nfor bar in history.data:\n  highest = max(highest, bar.high)\n  lowest = min(lowest, bar.low)\n\necho \"30-day high: $\", highest\necho \"30-day low: $\", lowest\n</code></pre>"},{"location":"library/getting-started/#pattern-4-error-handling","title":"Pattern 4: Error Handling","text":"<p>Always wrap Yahoo Finance API calls in try/except blocks:</p> <pre><code>import yfnim\n\ntry:\n  let history = getHistory(\"AAPL\", Int1d, startTime, endTime)\n  echo \"Success! Got \", history.data.len, \" records\"\n\nexcept ValueError as e:\n  echo \"Invalid input: \", e.msg\n\nexcept HttpRequestError as e:\n  echo \"Network error: \", e.msg\n  echo \"Check your internet connection\"\n\nexcept YahooApiError as e:\n  echo \"API error: \", e.msg\n  echo \"Symbol may not exist or data unavailable\"\n\nexcept CatchableError as e:\n  echo \"Unexpected error: \", e.msg\n</code></pre>"},{"location":"library/getting-started/#pattern-5-fetch-quote-data","title":"Pattern 5: Fetch Quote Data","text":"<p>For real-time/current prices:</p> <pre><code>import yfnim\n\n# Single quote\nlet quote = getQuote(\"AAPL\")\necho quote.symbol, \": $\", quote.regularMarketPrice\necho \"Change: \", quote.regularMarketChangePercent, \"%\"\n\n# Multiple quotes\nlet quotes = getQuotes(@[\"AAPL\", \"MSFT\", \"GOOGL\"])\nfor q in quotes:\n  echo q.symbol, \": $\", q.regularMarketPrice\n</code></pre>"},{"location":"library/getting-started/#api-functions-quick-reference","title":"API Functions Quick Reference","text":""},{"location":"library/getting-started/#historical-data","title":"Historical Data","text":"<pre><code># Main function\nproc getHistory*(symbol: string, interval: Interval, \n                 startTime: int64, endTime: int64): History\n\n# Helper functions\nproc newHistory*(symbol: string, interval: Interval): History\nproc len*(history: History): int\nproc append*(history: var History, record: HistoryRecord)\n</code></pre>"},{"location":"library/getting-started/#quote-data","title":"Quote Data","text":"<pre><code># Single symbol\nproc getQuote*(symbol: string): Quote\n\n# Multiple symbols (concurrent requests)\nproc getQuotes*(symbols: seq[string]): seq[Quote]\n</code></pre>"},{"location":"library/getting-started/#type-conversions","title":"Type Conversions","text":"<pre><code># Parse interval from string\nproc parseInterval*(s: string): Interval\n\n# JSON export/import\nproc toJson*(history: History): JsonNode\nproc fromJson*(node: JsonNode, T: typedesc[History]): History\n</code></pre>"},{"location":"library/getting-started/#compilation-flags","title":"Compilation Flags","text":""},{"location":"library/getting-started/#required","title":"Required","text":"<ul> <li><code>-d:ssl</code> - Enable HTTPS support (required for Yahoo Finance)</li> </ul>"},{"location":"library/getting-started/#recommended","title":"Recommended","text":"<ul> <li><code>-d:release</code> - Enable optimizations for production</li> <li><code>--opt:speed</code> - Optimize for speed</li> </ul>"},{"location":"library/getting-started/#example-build-commands","title":"Example Build Commands","text":"<pre><code># Development\nnim c -d:ssl myprogram.nim\n\n# Production\nnim c -d:ssl -d:release --opt:speed myprogram.nim\n\n# With output path\nnim c -d:ssl --out:bin/myapp myprogram.nim\n</code></pre>"},{"location":"library/getting-started/#complete-working-example","title":"Complete Working Example","text":"<p>Here's a complete program you can copy and run:</p> <pre><code>## my_first_yfnim_program.nim\n## Fetches and analyzes stock data\n\nimport yfnim\nimport std/[times, strformat]\n\nproc main() =\n  # Configuration\n  let symbol = \"AAPL\"\n  let days = 30\n\n  # Calculate date range\n  let endTime = getTime().toUnix()\n  let startTime = endTime - (days * 86400)\n\n  echo &amp;\"Fetching {days} days of data for {symbol}...\"\n\n  try:\n    # Fetch historical data\n    let history = getHistory(symbol, Int1d, startTime, endTime)\n\n    echo &amp;\"Retrieved {history.data.len} records\\n\"\n\n    # Show last 5 days\n    echo \"Last 5 days:\"\n    let start = max(0, history.data.len - 5)\n    for i in start..&lt;history.data.len:\n      let bar = history.data[i]\n      let date = fromUnix(bar.date).format(\"yyyy-MM-dd\")\n      echo &amp;\"{date}: Close=${bar.close:&gt;7.2f} Volume={bar.volume}\"\n\n    # Calculate statistics\n    var total = 0.0\n    var high = 0.0\n    var low = 999999.0\n\n    for bar in history.data:\n      total += bar.close\n      high = max(high, bar.high)\n      low = min(low, bar.low)\n\n    let average = total / history.data.len.float\n\n    echo \"\"\n    echo \"Statistics:\"\n    echo &amp;\"  Average: ${average:.2f}\"\n    echo &amp;\"  High:    ${high:.2f}\"\n    echo &amp;\"  Low:     ${low:.2f}\"\n\n    # Get current quote\n    echo \"\"\n    echo \"Current Quote:\"\n    let quote = getQuote(symbol)\n    echo &amp;\"  Price:  ${quote.regularMarketPrice:.2f}\"\n    echo &amp;\"  Change: {quote.regularMarketChangePercent:+.2f}%\"\n\n  except CatchableError as e:\n    echo \"Error: \", e.msg\n    quit(1)\n\nwhen isMainModule:\n  main()\n</code></pre> <p>Save this as <code>my_first_yfnim_program.nim</code> and run:</p> <pre><code>nim c -d:ssl -r my_first_yfnim_program.nim\n</code></pre>"},{"location":"library/getting-started/#next-steps","title":"Next Steps","text":"<p>Now that you have the basics, explore these topics:</p> <ol> <li> <p>Historical Data Guide - Deep dive into historical data retrieval, intervals, and date handling</p> </li> <li> <p>Quote Data Guide - Learn about real-time quotes, batch requests, and available fields</p> </li> <li> <p>Example Programs - Study working examples:</p> </li> <li><code>basic_history.nim</code> - Simple historical data fetching</li> <li><code>batch_quotes.nim</code> - Retrieving multiple quotes efficiently</li> <li><code>error_handling.nim</code> - Robust error handling patterns</li> <li> <p><code>custom_intervals.nim</code> - Using different time intervals</p> </li> <li> <p>API Documentation - Complete API reference (generate with <code>nim doc</code>)</p> </li> </ol>"},{"location":"library/getting-started/#troubleshooting","title":"Troubleshooting","text":""},{"location":"library/getting-started/#error-undeclared-identifier-newhttpclient","title":"\"Error: undeclared identifier: 'newHttpClient'\"","text":"<p>Solution: Compile with <code>-d:ssl</code> flag: <pre><code>nim c -d:ssl myprogram.nim\n</code></pre></p>"},{"location":"library/getting-started/#ssl-support-is-not-available","title":"\"SSL support is not available\"","text":"<p>Solution: Install OpenSSL development libraries: <pre><code># Ubuntu/Debian\nsudo apt-get install libssl-dev\n\n# macOS (via Homebrew)\nbrew install openssl\n\n# Then rebuild\nnim c -d:ssl myprogram.nim\n</code></pre></p>"},{"location":"library/getting-started/#symbol-not-found-or-no-data-returned","title":"\"Symbol not found\" or \"No data returned\"","text":"<p>Common causes: 1. Invalid ticker symbol (check Yahoo Finance website) 2. Symbol uses different format (try <code>SHOP.TO</code> for Canadian, <code>BTC-USD</code> for crypto) 3. Requesting data outside available range (1m interval only works for last ~7 days)</p>"},{"location":"library/getting-started/#empty-data-returned","title":"Empty data returned","text":"<p>Check: 1. Date range is correct (start before end) 2. Not requesting future dates 3. Dates fall within trading days (not weekends/holidays for stocks) 4. Interval is appropriate for date range</p>"},{"location":"library/getting-started/#getting-help","title":"Getting Help","text":"<ul> <li>Issues: Report bugs at https://github.com/yourusername/yfnim/issues</li> <li>Examples: Check <code>examples/library/</code> directory</li> <li>API Docs: Generate with <code>nim doc --project src/yfnim.nim</code></li> </ul>"},{"location":"library/getting-started/#summary","title":"Summary","text":"<p>You now know how to: - \u2705 Install and configure yfnim - \u2705 Fetch historical data - \u2705 Work with Unix timestamps - \u2705 Handle errors properly - \u2705 Retrieve current quotes - \u2705 Calculate basic statistics</p> <p>Happy coding! \ud83d\ude80</p>"},{"location":"library/historical-data/","title":"Historical Data Guide","text":"<p>This guide covers how to retrieve and work with historical OHLCV (Open, High, Low, Close, Volume) data using yfnim.</p>"},{"location":"library/historical-data/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Basic Usage</li> <li>Time Intervals</li> <li>Date and Time Handling</li> <li>Data Structures</li> <li>Common Tasks</li> <li>Error Handling</li> <li>Limitations</li> </ul>"},{"location":"library/historical-data/#overview","title":"Overview","text":"<p>The <code>getHistory</code> function retrieves historical price and volume data from Yahoo Finance. This is useful for:</p> <ul> <li>Analyzing past price movements</li> <li>Calculating technical indicators</li> <li>Backtesting trading strategies</li> <li>Historical research and reporting</li> </ul>"},{"location":"library/historical-data/#basic-usage","title":"Basic Usage","text":"<p>The main function for retrieving historical data is <code>getHistory</code>:</p> <pre><code>proc getHistory*(symbol: string, interval: Interval, \n                 startTime: int64, endTime: int64): History\n</code></pre> <p>Parameters: - <code>symbol</code>: Ticker symbol (e.g., \"AAPL\", \"MSFT\") - <code>interval</code>: Time interval (e.g., Int1d, Int1h) - <code>startTime</code>: Start date as Unix timestamp - <code>endTime</code>: End date as Unix timestamp</p> <p>Returns: A <code>History</code> object containing the symbol, interval, and a sequence of OHLCV records.</p> <p>Example:</p> <pre><code>import yfnim\nimport std/times\n\nlet endTime = getTime().toUnix()\nlet startTime = endTime - (30 * 86400)  # 30 days ago\n\nlet history = getHistory(\"AAPL\", Int1d, startTime, endTime)\necho \"Retrieved \", history.data.len, \" records\"\n</code></pre>"},{"location":"library/historical-data/#time-intervals","title":"Time Intervals","text":"<p>yfnim supports eight time intervals, each with different characteristics:</p>"},{"location":"library/historical-data/#intraday-intervals","title":"Intraday Intervals","text":"<p>1-Minute (Int1m) - Available for approximately the last 7 days - Useful for: Day trading analysis, very short-term patterns - Note: Yahoo Finance restricts 1-minute data to recent periods</p> <pre><code>let history = getHistory(\"AAPL\", Int1m, oneDayAgo, now)\n</code></pre> <p>5-Minute (Int5m) - Available for approximately 60 days - Useful for: Intraday analysis</p> <p>15-Minute (Int15m) - Available for approximately 60 days - Useful for: Short-term swing trading</p> <p>30-Minute (Int30m) - Available for approximately 60 days - Useful for: Intraday trend analysis</p> <p>1-Hour (Int1h) - Available for approximately 2 years - Useful for: Multi-day analysis</p>"},{"location":"library/historical-data/#daily-and-longer-intervals","title":"Daily and Longer Intervals","text":"<p>Daily (Int1d) - Most Common - Available for many years - Useful for: General analysis, most common use case - Recommended as the default for most applications</p> <pre><code>let history = getHistory(\"AAPL\", Int1d, oneYearAgo, now)\n</code></pre> <p>Weekly (Int1wk) - Available for many years - Useful for: Long-term trend analysis, reduced noise</p> <p>Monthly (Int1mo) - Available for many years - Useful for: Very long-term analysis, historical research</p>"},{"location":"library/historical-data/#choosing-an-interval","title":"Choosing an Interval","text":"<p>For most use cases, start with <code>Int1d</code> (daily). Use intraday intervals only when you specifically need recent high-frequency data. Keep in mind that shorter intervals have limited historical availability.</p>"},{"location":"library/historical-data/#date-and-time-handling","title":"Date and Time Handling","text":"<p>yfnim uses Unix timestamps (seconds since January 1, 1970 UTC) for all date/time operations.</p>"},{"location":"library/historical-data/#working-with-unix-timestamps","title":"Working with Unix Timestamps","text":"<pre><code>import std/times\n\n# Current time\nlet now = getTime().toUnix()\n\n# Relative times\nlet oneWeekAgo = now - (7 * 86400)\nlet oneMonthAgo = now - (30 * 86400)\nlet oneYearAgo = now - (365 * 86400)\n\n# Specific date\nlet specificDate = parse(\"2024-01-15\", \"yyyy-MM-dd\").toTime().toUnix()\n\n# Convert timestamp to readable format\nlet timestamp = 1705276800\necho fromUnix(timestamp).format(\"yyyy-MM-dd\")  # \"2024-01-15\"\n</code></pre>"},{"location":"library/historical-data/#date-range-best-practices","title":"Date Range Best Practices","text":"<ol> <li> <p>End time typically set to current time: <pre><code>let endTime = getTime().toUnix()\n</code></pre></p> </li> <li> <p>Calculate start time based on desired lookback: <pre><code>let startTime = endTime - (days * 86400)\n</code></pre></p> </li> <li> <p>Or use specific dates: <pre><code>let start = parse(\"2024-01-01\", \"yyyy-MM-dd\").toTime().toUnix()\nlet end = parse(\"2024-12-31\", \"yyyy-MM-dd\").toTime().toUnix()\n</code></pre></p> </li> </ol>"},{"location":"library/historical-data/#time-zone-considerations","title":"Time Zone Considerations","text":"<p>Unix timestamps are always in UTC. Yahoo Finance returns data aligned to the exchange's trading hours, so the timestamps correspond to when the market was actually open in that exchange's local time zone.</p>"},{"location":"library/historical-data/#data-structures","title":"Data Structures","text":""},{"location":"library/historical-data/#historyrecord","title":"HistoryRecord","text":"<p>A single OHLCV data point:</p> <pre><code>type HistoryRecord = object\n  date: int64      # Unix timestamp\n  open: float64    # Opening price\n  high: float64    # High price  \n  low: float64     # Low price\n  close: float64   # Closing price\n  volume: int64    # Trading volume\n</code></pre>"},{"location":"library/historical-data/#history","title":"History","text":"<p>A time series of records:</p> <pre><code>type History = object\n  symbol: string               # Ticker symbol\n  interval: Interval           # Time interval used\n  data: seq[HistoryRecord]     # Array of OHLCV records\n</code></pre>"},{"location":"library/historical-data/#accessing-data","title":"Accessing Data","text":"<pre><code>let history = getHistory(\"AAPL\", Int1d, startTime, endTime)\n\n# Number of records\necho history.data.len\n\n# Access individual records\nfor bar in history.data:\n  echo \"Date: \", bar.date\n  echo \"Close: $\", bar.close\n  echo \"Volume: \", bar.volume\n\n# Access by index\nlet latestBar = history.data[^1]  # Last record\nlet oldestBar = history.data[0]   # First record\n</code></pre>"},{"location":"library/historical-data/#common-tasks","title":"Common Tasks","text":""},{"location":"library/historical-data/#calculate-average-price","title":"Calculate Average Price","text":"<pre><code>var sum = 0.0\nfor bar in history.data:\n  sum += bar.close\n\nlet average = sum / history.data.len.float\necho \"Average close: $\", average\n</code></pre>"},{"location":"library/historical-data/#find-highest-and-lowest","title":"Find Highest and Lowest","text":"<pre><code>import std/math\n\nvar highest = 0.0\nvar lowest = Inf\n\nfor bar in history.data:\n  highest = max(highest, bar.high)\n  lowest = min(lowest, bar.low)\n\necho \"Period high: $\", highest\necho \"Period low: $\", lowest\n</code></pre>"},{"location":"library/historical-data/#calculate-returns","title":"Calculate Returns","text":"<pre><code># Calculate daily returns\nfor i in 1..&lt;history.data.len:\n  let prevClose = history.data[i-1].close\n  let currClose = history.data[i].close\n  let return = ((currClose - prevClose) / prevClose) * 100.0\n  echo \"Return: \", return, \"%\"\n</code></pre>"},{"location":"library/historical-data/#export-to-csv","title":"Export to CSV","text":"<pre><code>import std/[times, strformat]\n\n# Write to file\nlet f = open(\"output.csv\", fmWrite)\nf.writeLine(\"Date,Open,High,Low,Close,Volume\")\n\nfor bar in history.data:\n  let date = fromUnix(bar.date).format(\"yyyy-MM-dd\")\n  f.writeLine(&amp;\"{date},{bar.open},{bar.high},{bar.low},{bar.close},{bar.volume}\")\n\nf.close()\n</code></pre>"},{"location":"library/historical-data/#filter-by-date","title":"Filter by Date","text":"<pre><code>import std/times\n\n# Get only bars from January 2024\nlet janStart = parse(\"2024-01-01\", \"yyyy-MM-dd\").toTime().toUnix()\nlet janEnd = parse(\"2024-02-01\", \"yyyy-MM-dd\").toTime().toUnix()\n\nvar januaryBars: seq[HistoryRecord]\nfor bar in history.data:\n  if bar.date &gt;= janStart and bar.date &lt; janEnd:\n    januaryBars.add(bar)\n\necho \"January bars: \", januaryBars.len\n</code></pre>"},{"location":"library/historical-data/#calculate-moving-average","title":"Calculate Moving Average","text":"<pre><code>proc simpleMovingAverage(history: History, period: int): seq[float64] =\n  result = newSeq[float64](history.data.len)\n\n  for i in period-1..&lt;history.data.len:\n    var sum = 0.0\n    for j in i-period+1..i:\n      sum += history.data[j].close\n    result[i] = sum / period.float\n\n# Calculate 20-day SMA\nlet sma20 = simpleMovingAverage(history, 20)\n</code></pre>"},{"location":"library/historical-data/#error-handling","title":"Error Handling","text":"<p>Always handle potential errors when retrieving data:</p> <pre><code>import yfnim\n\ntry:\n  let history = getHistory(\"AAPL\", Int1d, startTime, endTime)\n  # Process data...\n\nexcept ValueError as e:\n  # Invalid input parameters\n  echo \"Input error: \", e.msg\n\nexcept HttpRequestError as e:\n  # Network or HTTP errors\n  echo \"Network error: \", e.msg\n  echo \"Check your internet connection\"\n\nexcept YahooApiError as e:\n  # Yahoo Finance API errors\n  echo \"API error: \", e.msg\n  echo \"The symbol may not exist or data is unavailable\"\n\nexcept JsonParsingError as e:\n  # JSON parsing errors (rare)\n  echo \"Parsing error: \", e.msg\n\nexcept CatchableError as e:\n  # Other unexpected errors\n  echo \"Unexpected error: \", e.msg\n</code></pre>"},{"location":"library/historical-data/#common-error-scenarios","title":"Common Error Scenarios","text":"<p>Empty symbol: <pre><code>getHistory(\"\", Int1d, start, end)  # Raises ValueError\n</code></pre></p> <p>Invalid date range: <pre><code>getHistory(\"AAPL\", Int1d, endTime, startTime)  # start &gt; end, raises ValueError\n</code></pre></p> <p>Invalid symbol: <pre><code>getHistory(\"NOTAREALSYMBOL\", Int1d, start, end)  # Raises YahooApiError\n</code></pre></p> <p>Network issues: <pre><code># No internet connection -&gt; Raises HttpRequestError\n</code></pre></p>"},{"location":"library/historical-data/#limitations","title":"Limitations","text":""},{"location":"library/historical-data/#data-availability","title":"Data Availability","text":"<ul> <li>1-minute data: Only available for approximately the last 7 days</li> <li>Intraday data (5m, 15m, 30m, 1h): Limited to approximately 60 days to 2 years</li> <li>Daily and longer intervals: Many years of history available</li> </ul>"},{"location":"library/historical-data/#market-hours","title":"Market Hours","text":"<p>Historical data reflects actual trading hours: - Stock data: Only includes trading days (no weekends/holidays) - Intraday data: Only includes market hours (e.g., 9:30 AM - 4:00 PM ET for US stocks)</p>"},{"location":"library/historical-data/#data-quality","title":"Data Quality","text":"<ul> <li>Some fields may be zero or NaN for certain periods (e.g., low volume periods)</li> <li>Corporate actions (splits, dividends) may affect price continuity</li> <li>Delisted stocks may have limited or no data</li> </ul>"},{"location":"library/historical-data/#api-rate-limits","title":"API Rate Limits","text":"<p>While Yahoo Finance doesn't publish official rate limits, making too many requests in a short time may result in temporary throttling. For production use, consider: - Caching data locally - Adding delays between requests - Implementing retry logic with exponential backoff</p>"},{"location":"library/historical-data/#see-also","title":"See Also","text":"<ul> <li>Getting Started Guide - Basic introduction</li> <li>Quote Data Guide - Real-time quote data</li> <li>Example: custom_intervals.nim - Demonstrates all intervals</li> <li>Example: basic_history.nim - Simple historical data example</li> </ul>"},{"location":"library/quote-data/","title":"Quote Data Guide","text":"<p>This guide covers how to retrieve real-time and delayed quote data using yfnim.</p>"},{"location":"library/quote-data/#table-of-contents","title":"Table of Contents","text":"<ul> <li>Overview</li> <li>Basic Usage</li> <li>Single vs Batch Requests</li> <li>Quote Fields Reference</li> <li>Working with Optional Fields</li> <li>Common Patterns</li> <li>Error Handling</li> <li>Limitations</li> </ul>"},{"location":"library/quote-data/#overview","title":"Overview","text":"<p>The quote API provides current market data for stocks, ETFs, indices, cryptocurrencies, and other securities. This includes:</p> <ul> <li>Current price and price changes</li> <li>Trading volume</li> <li>Bid/ask spreads</li> <li>Market capitalization</li> <li>Valuation metrics (P/E ratio, dividend yield)</li> <li>Moving averages</li> </ul> <p>Note that data may be real-time or delayed depending on your access level and the exchange rules.</p>"},{"location":"library/quote-data/#basic-usage","title":"Basic Usage","text":""},{"location":"library/quote-data/#single-symbol","title":"Single Symbol","text":"<pre><code>import yfnim\n\nlet quote = getQuote(\"AAPL\")\necho quote.symbol, \": $\", quote.regularMarketPrice\necho \"Change: \", quote.regularMarketChangePercent, \"%\"\n</code></pre>"},{"location":"library/quote-data/#multiple-symbols","title":"Multiple Symbols","text":"<pre><code>import yfnim\n\nlet quotes = getQuotes(@[\"AAPL\", \"MSFT\", \"GOOGL\"])\nfor quote in quotes:\n  echo quote.symbol, \": $\", quote.regularMarketPrice\n</code></pre>"},{"location":"library/quote-data/#single-vs-batch-requests","title":"Single vs Batch Requests","text":""},{"location":"library/quote-data/#single-quote-getquote","title":"Single Quote: <code>getQuote</code>","text":"<p>Use <code>getQuote</code> for retrieving data for one symbol:</p> <pre><code>proc getQuote*(symbol: string): Quote\n</code></pre> <p>This function will raise an exception if the symbol is invalid or data is unavailable.</p> <p>Example: <pre><code>try:\n  let quote = getQuote(\"AAPL\")\n  echo \"Price: $\", quote.regularMarketPrice\nexcept QuoteError:\n  echo \"Symbol not found\"\n</code></pre></p>"},{"location":"library/quote-data/#batch-quotes-getquotes","title":"Batch Quotes: <code>getQuotes</code>","text":"<p>Use <code>getQuotes</code> for retrieving data for multiple symbols:</p> <pre><code>proc getQuotes*(symbols: seq[string]): seq[Quote]\n</code></pre> <p>This function silently skips invalid symbols and returns only the successful results. This behavior is useful when processing watchlists that may contain inactive symbols.</p> <p>Example: <pre><code>let symbols = @[\"AAPL\", \"INVALID123\", \"MSFT\"]\nlet quotes = getQuotes(symbols)  # Returns 2 quotes (AAPL, MSFT)\necho \"Retrieved \", quotes.len, \" out of \", symbols.len, \" quotes\"\n</code></pre></p>"},{"location":"library/quote-data/#performance-considerations","title":"Performance Considerations","text":"<p>Currently, <code>getQuotes</code> makes individual requests for each symbol. For large watchlists, this may take some time. Each request takes approximately 0.5-2 seconds depending on network conditions.</p> <pre><code># Approximate timing\nlet quotes = getQuotes(@[\"AAPL\", \"MSFT\", \"GOOGL\"])  # ~1.5-6 seconds\n</code></pre>"},{"location":"library/quote-data/#quote-fields-reference","title":"Quote Fields Reference","text":"<p>The <code>Quote</code> type contains many fields. Here are the most commonly used ones:</p>"},{"location":"library/quote-data/#identification","title":"Identification","text":"<pre><code>quote.symbol           # \"AAPL\"\nquote.shortName        # \"Apple Inc.\"\nquote.longName         # \"Apple Inc.\"\nquote.quoteType        # Equity, ETF, Cryptocurrency, etc.\nquote.currency         # \"USD\"\nquote.exchange         # \"NMS\" (NASDAQ)\n</code></pre>"},{"location":"library/quote-data/#current-price","title":"Current Price","text":"<pre><code>quote.regularMarketPrice              # Current price\nquote.regularMarketChange             # Absolute change\nquote.regularMarketChangePercent      # Percentage change\nquote.regularMarketPreviousClose      # Previous closing price\n</code></pre>"},{"location":"library/quote-data/#daily-range","title":"Daily Range","text":"<pre><code>quote.regularMarketOpen      # Opening price\nquote.regularMarketDayHigh   # Day's high\nquote.regularMarketDayLow    # Day's low\nquote.regularMarketVolume    # Volume traded today\n</code></pre>"},{"location":"library/quote-data/#52-week-range","title":"52-Week Range","text":"<pre><code>quote.fiftyTwoWeekHigh               # 52-week high\nquote.fiftyTwoWeekLow                # 52-week low\nquote.fiftyTwoWeekChangePercent      # Change from 52-week low\n</code></pre>"},{"location":"library/quote-data/#moving-averages","title":"Moving Averages","text":"<pre><code>quote.fiftyDayAverage                # 50-day MA\nquote.fiftyDayAverageChange          # Distance from 50-day MA\nquote.twoHundredDayAverage           # 200-day MA\nquote.twoHundredDayAverageChange     # Distance from 200-day MA\n</code></pre>"},{"location":"library/quote-data/#volume-metrics","title":"Volume Metrics","text":"<pre><code>quote.averageDailyVolume3Month   # 3-month average volume\nquote.averageDailyVolume10Day    # 10-day average volume\n</code></pre>"},{"location":"library/quote-data/#valuation-metrics","title":"Valuation Metrics","text":"<pre><code>quote.marketCap          # Market capitalization\nquote.sharesOutstanding  # Number of shares outstanding\nquote.trailingPE         # P/E ratio (Option[float64])\nquote.forwardPE          # Forward P/E (Option[float64])\nquote.dividendYield      # Dividend yield (Option[float64])\n</code></pre>"},{"location":"library/quote-data/#market-state","title":"Market State","text":"<pre><code>quote.marketState        # PreMarket, Regular, Post, Closed\nquote.regularMarketTime  # Unix timestamp of last update\n</code></pre>"},{"location":"library/quote-data/#working-with-optional-fields","title":"Working with Optional Fields","text":"<p>Some fields are wrapped in <code>Option[T]</code> because they may not be available for all securities. For example, cryptocurrencies don't have P/E ratios.</p> <pre><code>import std/options\n\nlet quote = getQuote(\"AAPL\")\n\n# Check if field exists\nif quote.trailingPE.isSome:\n  echo \"P/E Ratio: \", quote.trailingPE.get()\nelse:\n  echo \"P/E Ratio: N/A\"\n\n# Provide default value\nlet pe = quote.trailingPE.get(0.0)  # Returns 0.0 if not available\n\n# Pattern matching\ncase quote.dividendYield.isSome\nof true:\n  let yield = quote.dividendYield.get()\n  echo \"Dividend Yield: \", yield, \"%\"\nof false:\n  echo \"No dividend\"\n</code></pre>"},{"location":"library/quote-data/#common-patterns","title":"Common Patterns","text":""},{"location":"library/quote-data/#display-price-with-color","title":"Display Price with Color","text":"<pre><code>import std/terminal\n\nlet quote = getQuote(\"AAPL\")\n\nif quote.regularMarketChangePercent &gt;= 0:\n  stdout.styledWrite(fgGreen, \"+\", $quote.regularMarketChangePercent, \"%\")\nelse:\n  stdout.styledWrite(fgRed, $quote.regularMarketChangePercent, \"%\")\necho \"\"\n</code></pre>"},{"location":"library/quote-data/#monitor-multiple-stocks","title":"Monitor Multiple Stocks","text":"<pre><code>import std/[times, os]\n\nlet watchlist = @[\"AAPL\", \"MSFT\", \"GOOGL\"]\n\nwhile true:\n  echo \"=== \", now().format(\"HH:mm:ss\"), \" ===\"\n\n  let quotes = getQuotes(watchlist)\n  for quote in quotes:\n    echo quote.symbol, \": $\", quote.regularMarketPrice,\n         \" (\", quote.regularMarketChangePercent, \"%)\"\n\n  echo \"\"\n  sleep(60000)  # Update every minute\n</code></pre>"},{"location":"library/quote-data/#find-best-performer","title":"Find Best Performer","text":"<pre><code>let quotes = getQuotes(@[\"AAPL\", \"MSFT\", \"GOOGL\", \"AMZN\", \"TSLA\"])\n\nvar bestQuote = quotes[0]\nfor quote in quotes:\n  if quote.regularMarketChangePercent &gt; bestQuote.regularMarketChangePercent:\n    bestQuote = quote\n\necho \"Best performer: \", bestQuote.symbol,\n     \" (\", bestQuote.regularMarketChangePercent, \"%)\"\n</code></pre>"},{"location":"library/quote-data/#calculate-market-cap-totals","title":"Calculate Market Cap Totals","text":"<pre><code>let quotes = getQuotes(@[\"AAPL\", \"MSFT\", \"GOOGL\"])\n\nvar totalMarketCap: int64 = 0\nfor quote in quotes:\n  totalMarketCap += quote.marketCap\n\nlet trillions = totalMarketCap.float / 1_000_000_000_000.0\necho \"Total market cap: $\", trillions, \" trillion\"\n</code></pre>"},{"location":"library/quote-data/#filter-by-criteria","title":"Filter by Criteria","text":"<pre><code>let quotes = getQuotes(@[\"AAPL\", \"MSFT\", \"GOOGL\", \"AMZN\", \"TSLA\"])\n\n# Find stocks up more than 1%\necho \"Gainers (&gt;1%):\"\nfor quote in quotes:\n  if quote.regularMarketChangePercent &gt; 1.0:\n    echo \"  \", quote.symbol, \": +\", quote.regularMarketChangePercent, \"%\"\n\n# Find stocks with P/E &lt; 30\necho \"Value stocks (P/E &lt; 30):\"\nfor quote in quotes:\n  if quote.trailingPE.isSome:\n    let pe = quote.trailingPE.get()\n    if pe &lt; 30.0 and pe &gt; 0:\n      echo \"  \", quote.symbol, \": P/E = \", pe\n</code></pre>"},{"location":"library/quote-data/#export-to-csv","title":"Export to CSV","text":"<pre><code>import std/strformat\n\nlet quotes = getQuotes(@[\"AAPL\", \"MSFT\", \"GOOGL\"])\n\necho \"Symbol,Price,Change%,Volume,MarketCap\"\nfor quote in quotes:\n  echo &amp;\"{quote.symbol},{quote.regularMarketPrice},{quote.regularMarketChangePercent},{quote.regularMarketVolume},{quote.marketCap}\"\n</code></pre>"},{"location":"library/quote-data/#error-handling","title":"Error Handling","text":""},{"location":"library/quote-data/#single-quote-errors","title":"Single Quote Errors","text":"<pre><code>import yfnim\n\ntry:\n  let quote = getQuote(\"AAPL\")\n  # Process quote...\n\nexcept ValueError as e:\n  # Empty or invalid input\n  echo \"Input error: \", e.msg\n\nexcept QuoteError as e:\n  # Symbol not found or API error\n  echo \"Quote error: \", e.msg\n\nexcept HttpRequestError as e:\n  # Network error\n  echo \"Network error: \", e.msg\n\nexcept JsonParsingError as e:\n  # JSON parsing error (rare)\n  echo \"Parsing error: \", e.msg\n</code></pre>"},{"location":"library/quote-data/#batch-quote-errors","title":"Batch Quote Errors","text":"<p><code>getQuotes</code> handles errors differently - it skips invalid symbols rather than raising exceptions:</p> <pre><code>let symbols = @[\"AAPL\", \"INVALID\", \"MSFT\", \"BADSTOCK\"]\nlet quotes = getQuotes(symbols)\n\n# Identify which symbols failed\nvar successSymbols: seq[string]\nfor quote in quotes:\n  successSymbols.add(quote.symbol)\n\nvar failedSymbols: seq[string]\nfor symbol in symbols:\n  if symbol notin successSymbols:\n    failedSymbols.add(symbol)\n\nif failedSymbols.len &gt; 0:\n  echo \"Failed to retrieve: \", failedSymbols.join(\", \")\n</code></pre>"},{"location":"library/quote-data/#limitations","title":"Limitations","text":""},{"location":"library/quote-data/#data-timeliness","title":"Data Timeliness","text":"<ul> <li>Quote data may be delayed by 15-20 minutes depending on exchange rules</li> <li>Real-time data availability depends on your access level</li> <li>Check <code>quote.regularMarketTime</code> to see when the data was last updated</li> </ul>"},{"location":"library/quote-data/#field-availability","title":"Field Availability","text":"<p>Not all fields are available for all security types:</p> <ul> <li>Stocks: Most fields available</li> <li>ETFs: Limited valuation metrics</li> <li>Indices: No P/E ratios or dividends</li> <li>Cryptocurrencies: Limited fundamental data</li> <li>Options/Futures: Different field sets</li> </ul> <p>Always check <code>Option</code> fields before using them.</p>"},{"location":"library/quote-data/#market-hours","title":"Market Hours","text":"<ul> <li>During market hours: Prices update in near real-time (with potential delays)</li> <li>After hours: May show pre-market or post-market prices</li> <li>Market closed: Shows last closing price</li> <li>Check <code>quote.marketState</code> to determine current market status</li> </ul>"},{"location":"library/quote-data/#rate-limits","title":"Rate Limits","text":"<p>Yahoo Finance doesn't publish official rate limits, but excessive requests may be throttled. For monitoring applications, avoid requesting quotes more frequently than once per minute unless necessary.</p>"},{"location":"library/quote-data/#international-markets","title":"International Markets","text":"<p>yfnim works with international exchanges. Use the appropriate symbol format:</p> <pre><code># Canadian stocks (Toronto Stock Exchange)\nlet shopify = getQuote(\"SHOP.TO\")\n\n# UK stocks (London Stock Exchange)\nlet bp = getQuote(\"BP.L\")\n\n# Japanese stocks (Tokyo Stock Exchange)\nlet sony = getQuote(\"6758.T\")\n\n# Cryptocurrencies\nlet bitcoin = getQuote(\"BTC-USD\")\nlet ethereum = getQuote(\"ETH-USD\")\n</code></pre> <p>Note that field availability and data quality may vary by exchange.</p>"},{"location":"library/quote-data/#see-also","title":"See Also","text":"<ul> <li>Getting Started Guide - Basic introduction</li> <li>Historical Data Guide - Historical OHLCV data</li> <li>Example: batch_quotes.nim - Batch quote retrieval example</li> <li>Example: error_handling.nim - Error handling patterns</li> </ul>"}]}